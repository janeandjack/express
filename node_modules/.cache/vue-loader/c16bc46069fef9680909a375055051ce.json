{"remainingRequest":"E:\\黎超超\\an-express\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\黎超超\\an-express\\src\\views\\admin\\administration\\MemberInfoCenter.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"E:\\黎超超\\an-express\\src\\views\\admin\\administration\\MemberInfoCenter.vue","mtime":1603936683974},{"path":"E:\\黎超超\\an-express\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\an-express\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\黎超超\\an-express\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\黎超超\\an-express\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\an-express\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\an-express\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmVsLWJyZWFkY3J1bWItb3V0ZXIgew0KICBoZWlnaHQ6IDQ4cHg7DQogIGZvbnQtc2l6ZTogMTVweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2YwZjNmNDsNCiAgYm9yZGVyLXJhZGl1czogM3B4Ow0KfQ0KLmJvdHRvbS1tYXJnaW4gew0KICBtYXJnaW4tYm90dG9tOiAxMjBweDsNCn0NCg=="},{"version":3,"sources":["MemberInfoCenter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MemberInfoCenter.vue","sourceRoot":"src/views/admin/administration","sourcesContent":["<template>\r\n  <div>\r\n    <div v-if=\"!role\">\r\n      <Page401 />\r\n    </div>\r\n    <div v-if=\"role\">\r\n      <div>\r\n        <div>\r\n          <div\r\n            class=\"border pt-2 pb-2 pl-3\"\r\n            style=\"font-size:18px;background-color:#F0F3F4;border-radius:3px;\"\r\n          >\r\n            <span class=\"mb-3\">会员信息</span>\r\n            <div class=\"float-right mr-3\">\r\n              <el-input\r\n                v-model=\"keyWord\"\r\n                type=\"text\"\r\n                placeholder=\"搜索\"\r\n                class=\"filter-item searchInputWidth\"\r\n                prefix-icon=\"el-icon-search\"\r\n                @input=\"handleQuery\"\r\n                clearable\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div class=\"row mt-3\" style=\"margin-left:0px;width:100%\">\r\n          <el-card\r\n            class=\"box-card col-lg-4 col-md-4 col-xs-12 text-center mt-2\"\r\n            shadow=\"hover\"\r\n          >\r\n            <div class=\"text-info\">\r\n              所有人数: {{ allUserNumber.UserNumber }}\r\n            </div>\r\n          </el-card>\r\n          <el-card\r\n            class=\"box-card col-lg-4 col-md-4 col-xs-12 text-center mt-2\"\r\n            shadow=\"hover\"\r\n          >\r\n            <div class=\"text-info\">\r\n              普通会员人数: {{ allUserNumber.normalUserNumber }}\r\n            </div>\r\n          </el-card>\r\n          <el-card\r\n            class=\"box-card col-lg-4 col-md-4 col-xs-12 text-center mt-2\"\r\n            shadow=\"hover\"\r\n          >\r\n            <div class=\"text-info\">\r\n              管理员人数: {{ allUserNumber.adminUserNumber }}\r\n            </div>\r\n          </el-card>\r\n        </div>\r\n\r\n        <el-table\r\n          :data=\"tableData\"\r\n          class=\"borderRadius mt-4\"\r\n          highlight-current-row\r\n          border\r\n        >\r\n          <el-table-column\r\n            prop=\"user_id\"\r\n            label=\"用户号\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.user_id.substr(-10) }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"email\"\r\n            label=\"用户邮箱\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.email }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"username\"\r\n            label=\"会员名称\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.username }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"birthday\"\r\n            label=\"出生日期\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.birthday | moment(\"YYYY-MM-DD\") }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"gender\" label=\"性别\" align=\"center\" sortable>\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.gender }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"phoneNumber\"\r\n            label=\"联系电话\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.phoneNumber }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"weixin\" label=\"微信\" align=\"center\" sortable>\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.weixin }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"qq\" label=\"QQ\" align=\"center\" sortable>\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.qq }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"balance\"\r\n            label=\"用户余额\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span class=\"text-danger\">{{ row.balance }}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column\r\n            prop=\"level\"\r\n            label=\"用户等级\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.level }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"createdAt\"\r\n            label=\"开户时间\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              {{\r\n                row.createdAt\r\n                  | moment(\"timezone\", \"Asia/Shanghai\", \"YYYY-MM-DD HH:mm:ss\")\r\n              }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"last_login_time\"\r\n            label=\"上次登录时间\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              {{\r\n                row.last_login_time\r\n                  | moment(\"timezone\", \"Asia/Shanghai\", \"YYYY-MM-DD HH:mm:ss\")\r\n              }}\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <pagination\r\n          class=\"mt-5 float-right\"\r\n          :data=\"allUserInfo\"\r\n          @pagechange=\"pageChange\"\r\n          pager=\"prev, pager, next, jumper, ->, total, slot\"\r\n          limitNumber=\"10\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Page401 from \"@/components/401\";\r\nimport { computed, onMounted, ref } from \"@vue/composition-api\";\r\nimport pagination from \"../components/InfoPagination\";\r\nexport default {\r\n  components: { Page401, pagination },\r\n  setup(props, { root: { $store } }) {\r\n    onMounted(() => {\r\n      $store.dispatch(\"getAllUser\", {\r\n        page: 0,\r\n        size: 10,\r\n      });\r\n      $store.dispatch(\"getUserNumber\");\r\n    });\r\n\r\n    const allUserInfo = computed(() => {\r\n      return $store.state.allUser;\r\n    });\r\n\r\n    const allUserNumber = computed(() => {\r\n      return $store.state.userNumber;\r\n    });\r\n\r\n    const role = computed(() => {\r\n      if ($store.state.role === \"Admin/管理员\") {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n\r\n    const keyWord = ref(\"\");\r\n\r\n    const returnData = ref([]);\r\n\r\n    const handleQuery = () => {\r\n      let data = {\r\n        keyword: { searchString: keyWord.value },\r\n        page: 0,\r\n        size: 10,\r\n      };\r\n      $store\r\n        .dispatch(\"searchUser\", data)\r\n        .then((res) => {\r\n          returnData.value = res.data;\r\n        })\r\n        .catch(() => {});\r\n    };\r\n\r\n    const tableData = computed(() => {\r\n      let data = [];\r\n      if (keyWord.value != \"\") {\r\n        data = returnData.value;\r\n      } else {\r\n        data = allUserInfo.value;\r\n      }\r\n      return data;\r\n    });\r\n\r\n    const pageChange = (val) => {\r\n      if (keyWord.value === \"\") {\r\n        $store.dispatch(\"getAllUser\", {\r\n          page: val - 1,\r\n          size: 10,\r\n        });\r\n      } else {\r\n        $store\r\n          .dispatch(\"searchUser\", {\r\n            keyword: { searchString: keyWord.value },\r\n            page: val - 1,\r\n            size: 10,\r\n          })\r\n          .then((res) => {\r\n            returnData.value = res.data;\r\n          })\r\n          .catch(() => {});\r\n      }\r\n    };\r\n\r\n    return {\r\n      role,\r\n\r\n      allUserInfo,\r\n      pageChange,\r\n      allUserNumber,\r\n\r\n      tableData,\r\n      keyWord,\r\n      handleQuery,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.el-breadcrumb-outer {\r\n  height: 48px;\r\n  font-size: 15px;\r\n  background-color: #f0f3f4;\r\n  border-radius: 3px;\r\n}\r\n.bottom-margin {\r\n  margin-bottom: 120px;\r\n}\r\n</style>\r\n"]}]}