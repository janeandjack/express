{"remainingRequest":"E:\\黎超超\\an-express\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\黎超超\\an-express\\src\\views\\admin\\components\\Announcement.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\黎超超\\an-express\\src\\views\\admin\\components\\Announcement.vue","mtime":1603936683979},{"path":"E:\\黎超超\\an-express\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\an-express\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\黎超超\\an-express\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\an-express\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTWFsbGtpIGZyb20gIkAvY29tcG9uZW50cy9UZXh0RWZmZWN0IjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7IE1hbGxraSB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRFbWFpbFRlbXBsYXRlIiwgeyBwYWdlOiAwLCBzaXplOiA1MCB9KTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBhbGxFbWFpbFRlbXBsYXRlOiBmdW5jdGlvbigpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hbGxFbWFpbFRlbXBsYXRlDQogICAgICAgIC8vIC5maWx0ZXIoKGkpID0+IChpLnR5cGUgPT09ICLpgq7ku7YiIHx8IGkudHlwZSA9PT0gIuWFrOWRiiIpKQ0KICAgICAgICAuZmlsdGVyKChpKSA9PiBpLnR5cGUgPT09ICLlhazlkYoiKQ0KICAgICAgICAuc29ydCh0aGlzLmNvbXBhcmUoImltcG9ydGFuY2UiKSkNCiAgICAgICAgLnJldmVyc2UoKTsNCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgb3BlbkFubm91bmNlbWVudChpZCkgew0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldEFFbWFpbFRlbXBsYXRlIiwgaWQpLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL2Rhc2hib2FyZC9hbm5vdW5jZW1lbnQvJHtpZH1gKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgY29tcGFyZShwcm9wZXJ0eSkgew0KICAgICAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHsNCiAgICAgICAgdmFyIHZhbHVlMSA9IGFbcHJvcGVydHldOw0KICAgICAgICB2YXIgdmFsdWUyID0gYltwcm9wZXJ0eV07DQogICAgICAgIHJldHVybiB2YWx1ZTEgLSB2YWx1ZTI7DQogICAgICB9Ow0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["Announcement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Announcement.vue","sourceRoot":"src/views/admin/components","sourcesContent":["<template>\r\n  <el-card class=\"box-card-component\" style=\"margin-left:8px;\" >\r\n    <mallki\r\n      class=\"mb-3\"\r\n      class-name=\"mallki-text\"\r\n      text=\"网站公告/Announcement\"\r\n    />\r\n    <div class=\"c\">\r\n      <ul class=\"card-home\">\r\n        <li\r\n        v-for=\"(item, index) in allEmailTemplate\"\r\n        :key=\"index\"\r\n        @click=\"openAnnouncement(item._id)\"\r\n        class=\"mt-1 ml-1 mr-1\"\r\n      >\r\n        <p>\r\n          <span v-if=\"item.type==='公告'\" class=\"mr-2\">[公告] </span>\r\n          <span v-if=\"item.type==='邮件'\" class=\"mr-2\">[邮件] </span>\r\n          <span\r\n            :class=\"{\r\n              importance: item.importance == '3',\r\n              lessimportance: item.importance == '2',\r\n            }\"\r\n            >{{ item.title }}\r\n          </span>\r\n          <span class=\"float-right mr-3\">\r\n            {{ item.updatedAt | moment(\"timezone\", \"Asia/Shanghai\", \"from\", \"now\")}}\r\n          </span>\r\n        </p>\r\n      </li>\r\n      </ul>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport Mallki from \"@/components/TextEffect\";\r\n\r\nexport default {\r\n  components: { Mallki },\r\n  created() {\r\n    this.$store.dispatch(\"getEmailTemplate\", { page: 0, size: 50 });\r\n  },\r\n  computed: {\r\n    allEmailTemplate: function() {\r\n      return this.$store.state.allEmailTemplate\r\n        // .filter((i) => (i.type === \"邮件\" || i.type === \"公告\"))\r\n        .filter((i) => i.type === \"公告\")\r\n        .sort(this.compare(\"importance\"))\r\n        .reverse();\r\n    },\r\n  },\r\n  methods: {\r\n    openAnnouncement(id) {\r\n      this.$store.dispatch(\"getAEmailTemplate\", id).then(() => {\r\n        this.$router.push(`/dashboard/announcement/${id}`);\r\n      });\r\n    },\r\n    compare(property) {\r\n      return function(a, b) {\r\n        var value1 = a[property];\r\n        var value2 = b[property];\r\n        return value1 - value2;\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.c{\r\n  position:relative;\r\n  float:left;\r\n  width:100%;\r\n  height:445px;\r\n  overflow:hidden;\r\n  overflow-y:auto;\r\n}\r\n.card-home{\r\n  position:absolute;\r\n\ttop:0;\r\n  //animation: scroll 10s linear 1s infinite;\r\n}\r\n@keyframes scroll {\r\n\t100% { top: -360px; }  /* top is the number of spans (in this case 8) multiplied by span height (45px as described above)*/\r\n}\r\n.importance {\r\n  color: red;\r\n}\r\n.lessimportance {\r\n  color: orange;\r\n}\r\n.box-card-component {\r\n  .mallki-text {\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n  }\r\n\r\n  ul {\r\n    width:100%;\r\n    font-size: 16px;\r\n    border-top: 1px solid #dfe6ec;\r\n    padding-left: 0;\r\n    li {\r\n      height:50px;\r\n      list-style-type: none;\r\n      &:first-child {\r\n        border: none;\r\n      }\r\n      border-top: 1px solid #dfe6ec;\r\n      padding: 8px 0;\r\n      p {\r\n        padding-top:5px;\r\n        margin-bottom: 5px;\r\n      }\r\n      &:hover {\r\n        cursor: pointer;\r\n        background-color: rgb(241, 234, 234);\r\n        transform: scale(1.01, 1.01);\r\n      }\r\n      font-weight: bold;\r\n      span {\r\n        &:first-child {\r\n          color: red;\r\n          font-weight: bold;\r\n        }\r\n        &:last-child {\r\n          font-weight: 400;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}