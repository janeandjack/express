{"remainingRequest":"E:\\黎超超\\an-express\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\黎超超\\an-express\\src\\views\\admin\\administration\\orderTurnover.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\黎超超\\an-express\\src\\views\\admin\\administration\\orderTurnover.vue","mtime":1603936683978},{"path":"E:\\黎超超\\an-express\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\an-express\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\an-express\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\黎超超\\an-express\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\an-express\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBvbk1vdW50ZWQsIGNvbXB1dGVkLCByZWYsIHJlYWN0aXZlIH0gZnJvbSAiQHZ1ZS9jb21wb3NpdGlvbi1hcGkiOw0KaW1wb3J0IHBhZ2luYXRpb24gZnJvbSAiLi4vY29tcG9uZW50cy9JbmZvUGFnaW5hdGlvbiI7DQppbXBvcnQgeyB0b1BlcmNlbnQgfSBmcm9tICIuLi8uLi8uLi91dGlscy9mdW5jdGlvbiI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBwYWdpbmF0aW9uLA0KICB9LA0KDQogIHNldHVwKHByb3BzLCB7IHJvb3Q6IHsgJHN0b3JlLCAkbW9tZW50IH0gfSkgew0KICAgIG9uTW91bnRlZCgoKSA9PiB7DQogICAgICAkc3RvcmUuZGlzcGF0Y2goImdldEFsbE9yZGVyRm9ybSIsIHsNCiAgICAgICAgc3RhdHVzOiAi5bey562+5pS2IiwNCiAgICAgICAgcGFnZTogIjAiLA0KICAgICAgICBzaXplOiAiMjAiLA0KICAgICAgICBzdGF0dXMxOiAi5bey5Y+R6LSnIiwNCiAgICAgIH0pOw0KICAgIH0pOw0KDQogICAgY29uc3Qgb3JkZXJMaXN0ID0gY29tcHV0ZWQoKCkgPT4gew0KICAgICAgcmV0dXJuICRzdG9yZS5zdGF0ZS5vcmRlcmxpc3Q7DQogICAgfSk7DQoNCiAgICBjb25zdCB0YWJsZURhdGEgPSBjb21wdXRlZCgoKSA9PiB7DQogICAgICBsZXQgZGF0YSA9IFtdOw0KICAgICAgaWYgKGtleVdvcmQudmFsdWUgIT0gIiIpIHsNCiAgICAgICAgZGF0YSA9IHJldHVybkRhdGEudmFsdWU7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBkYXRhID0gb3JkZXJMaXN0LnZhbHVlOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIGRhdGEubWFwKChvYmplY3QpID0+IHsNCiAgICAgICAgbGV0IG9yZGVyU2l6ZVdlaWdodCA9IE1hdGgucm91bmQoDQogICAgICAgICAgKG9iamVjdC5vcmRlclNpemVfbGVuZ3RoICoNCiAgICAgICAgICAgIG9iamVjdC5vcmRlclNpemVfd2lkdGggKg0KICAgICAgICAgICAgb2JqZWN0Lm9yZGVyU2l6ZV9oZWlnaHQpIC8NCiAgICAgICAgICAgIDUwMDANCiAgICAgICAgKTsNCiAgICAgICAgbGV0IGNvbXBlbnNhdGlvbiA9IG9iamVjdC5jb21wZW5zYXRpb24gPyBvYmplY3QuY29tcGVuc2F0aW9uIDogMDsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICBpZDogb2JqZWN0Ll9pZCwNCiAgICAgICAgICBjcmVhdGVkQXQ6IG9iamVjdC5jcmVhdGVkQXQsDQogICAgICAgICAgZGF0ZTogb2JqZWN0LnVwZGF0ZWRBdCwNCiAgICAgICAgICB1c2VybmFtZTogb2JqZWN0LnVzZXJuYW1lLA0KICAgICAgICAgIGluY29tZVByaWNlOiBvYmplY3QuaW5jb21lUHJpY2UsDQogICAgICAgICAgY29zdFByaWNlOiBvYmplY3QuY29zdFByaWNlLA0KICAgICAgICAgIGNvbXBlbnNhdGlvbjogb2JqZWN0LmNvbXBlbnNhdGlvbiwNCiAgICAgICAgICBvcmRlclN0YXR1czogb2JqZWN0Lm9yZGVyU3RhdHVzLA0KICAgICAgICAgIG9yZGVyUmVhbFdlaWdodDoNCiAgICAgICAgICAgIG9yZGVyU2l6ZVdlaWdodCA+IG9iamVjdC5vcmRlcldlaWdodA0KICAgICAgICAgICAgICA/IG9yZGVyU2l6ZVdlaWdodA0KICAgICAgICAgICAgICA6IG9iamVjdC5vcmRlcldlaWdodCwNCiAgICAgICAgICBzaGlwcGluZ1RpbWU6IG9iamVjdC5zaGlwcGluZ1RpbWUsDQogICAgICAgICAgb3JkZXJQcm9maXRSYXRlOiB0b1BlcmNlbnQoDQogICAgICAgICAgICBvYmplY3QuaW5jb21lUHJpY2UgLyAob2JqZWN0LmNvc3RQcmljZSArIGNvbXBlbnNhdGlvbiksDQogICAgICAgICAgICAxDQogICAgICAgICAgKSwNCiAgICAgICAgICBvcmRlclByb2ZpdDogb2JqZWN0LmluY29tZVByaWNlIC0gb2JqZWN0LmNvc3RQcmljZSAtIGNvbXBlbnNhdGlvbiwNCiAgICAgICAgfTsNCiAgICAgIH0pOw0KICAgIH0pOw0KDQogICAgY29uc3Qga2V5V29yZCA9IHJlZigiIik7DQoNCiAgICBjb25zdCByZXR1cm5EYXRhID0gcmVmKFtdKTsNCg0KICAgIGNvbnN0IGhhbmRsZVF1ZXJ5ID0gKCkgPT4gew0KICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgIGtleXdvcmQ6IHsgc2VhcmNoU3RyaW5nOiBrZXlXb3JkLnZhbHVlIH0sDQogICAgICAgIHN0YXR1czogIuW3suetvuaUtiIsDQogICAgICAgIHBhZ2U6IDAsDQogICAgICAgIHNpemU6IDIwLA0KICAgICAgICBzdGF0dXMxOiAi5bey5Y+R6LSnIiwNCiAgICAgIH07DQogICAgICAkc3RvcmUNCiAgICAgICAgLmRpc3BhdGNoKCJzZWFyY2hPcmRlcnMiLCBkYXRhKQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgcmV0dXJuRGF0YS52YWx1ZSA9IHJlcy5kYXRhOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKCkgPT4ge30pOw0KICAgIH07DQoNCiAgICBjb25zdCBwYWdlQ2hhbmdlID0gKHZhbCkgPT4gew0KICAgICAgaWYgKGtleVdvcmQudmFsdWUgPT09ICIiKSB7DQogICAgICAgICRzdG9yZS5kaXNwYXRjaCgiZ2V0QWxsT3JkZXJGb3JtIiwgew0KICAgICAgICAgIHN0YXR1czogIuW3suetvuaUtiIsDQogICAgICAgICAgcGFnZTogdmFsIC0gMSwNCiAgICAgICAgICBzaXplOiAyMCwNCiAgICAgICAgICBzdGF0dXMxOiAi5bey5Y+R6LSnIiwNCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICAkc3RvcmUNCiAgICAgICAgICAuZGlzcGF0Y2goInNlYXJjaE9yZGVycyIsIHsNCiAgICAgICAgICAgIGtleXdvcmQ6IHsgc2VhcmNoU3RyaW5nOiBrZXlXb3JkLnZhbHVlIH0sDQogICAgICAgICAgICBzdGF0dXM6ICLlt7Lnrb7mlLYiLA0KICAgICAgICAgICAgcGFnZTogdmFsIC0gMSwNCiAgICAgICAgICAgIHNpemU6IDIwLA0KICAgICAgICAgICAgc3RhdHVzMTogIuW3suWPkei0pyIsDQogICAgICAgICAgfSkNCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICByZXR1cm5EYXRhLnZhbHVlID0gcmVzLmRhdGE7DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKCkgPT4ge30pOw0KICAgICAgfQ0KICAgIH07DQoNCiAgICBjb25zdCBkb3dubG9hZExvYWRpbmcgPSByZWYoZmFsc2UpOw0KDQogICAgY29uc3QgZm9ybWF0SnNvbiA9IChmaWx0ZXJWYWwsIGpzb25EYXRhKSA9PiB7DQogICAgICByZXR1cm4ganNvbkRhdGEubWFwKCh2KSA9Pg0KICAgICAgICBmaWx0ZXJWYWwubWFwKChqKSA9PiB7DQogICAgICAgICAgaWYgKGogPT09ICJzaGlwcGluZ0R1cmF0aW9uIikgew0KICAgICAgICAgICAgaWYgKHZbInNoaXBwaW5nVGltZSJdKSB7DQogICAgICAgICAgICAgIHJldHVybiAkbW9tZW50KHZbInNoaXBwaW5nVGltZSJdKQ0KICAgICAgICAgICAgICAgIC50eigiQXNpYS9TaGFuZ2hhaSIpDQogICAgICAgICAgICAgICAgLmZyb21Ob3coKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHJldHVybiAiIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9IGVsc2UgaWYgKGogPT0gInNoaXBwaW5nVGltZSIpIHsNCiAgICAgICAgICAgIGlmICh2W2pdKSB7DQogICAgICAgICAgICAgIHJldHVybiAkbW9tZW50KHZbal0pDQogICAgICAgICAgICAgICAgLnR6KCJBc2lhL1NoYW5naGFpIikNCiAgICAgICAgICAgICAgICAuZm9ybWF0KCJZWVlZLU1NLUREIEhIOm1tOnNzIik7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICByZXR1cm4gIiI7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSBlbHNlIGlmIChqID09ICJ1cGRhdGVkQXQiIHx8IGogPT0gImNyZWF0ZWRBdCIpIHsNCiAgICAgICAgICAgIHJldHVybiAkbW9tZW50KHZbal0pDQogICAgICAgICAgICAgIC50eigiQXNpYS9TaGFuZ2hhaSIpDQogICAgICAgICAgICAgIC5mb3JtYXQoIllZWVktTU0tREQgSEg6bW06c3MiKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIHZbal07DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgKTsNCiAgICB9Ow0KDQogICAgY29uc3Qgb3JkZXJUdXJub3ZlckRhdGEgPSBjb21wdXRlZCgoKSA9PiB7DQogICAgICByZXR1cm4gJHN0b3JlLnN0YXRlLm9yZGVyVHVybm92ZXJEYXRhLm1hcCgob2JqZWN0KSA9PiB7DQogICAgICAgIGxldCBvcmRlclNpemVXZWlnaHQgPSBNYXRoLnJvdW5kKA0KICAgICAgICAgIChvYmplY3Qub3JkZXJTaXplX2xlbmd0aCAqDQogICAgICAgICAgICBvYmplY3Qub3JkZXJTaXplX3dpZHRoICoNCiAgICAgICAgICAgIG9iamVjdC5vcmRlclNpemVfaGVpZ2h0KSAvDQogICAgICAgICAgICA1MDAwDQogICAgICAgICk7DQogICAgICAgIGxldCBjb21wZW5zYXRpb24gPSBvYmplY3QuY29tcGVuc2F0aW9uID8gb2JqZWN0LmNvbXBlbnNhdGlvbiA6IDA7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgaWQ6IG9iamVjdC5faWQsDQogICAgICAgICAgY3JlYXRlZEF0OiBvYmplY3QuY3JlYXRlZEF0LA0KICAgICAgICAgIGRhdGU6IG9iamVjdC51cGRhdGVkQXQsDQogICAgICAgICAgdXNlcm5hbWU6IG9iamVjdC51c2VybmFtZSwNCiAgICAgICAgICBpbmNvbWVQcmljZTogb2JqZWN0LmluY29tZVByaWNlLA0KICAgICAgICAgIGNvc3RQcmljZTogb2JqZWN0LmNvc3RQcmljZSwNCiAgICAgICAgICBjb21wZW5zYXRpb246IG9iamVjdC5jb21wZW5zYXRpb24sDQogICAgICAgICAgb3JkZXJTdGF0dXM6IG9iamVjdC5vcmRlclN0YXR1cywNCiAgICAgICAgICBvcmRlclJlYWxXZWlnaHQ6DQogICAgICAgICAgICBvcmRlclNpemVXZWlnaHQgPiBvYmplY3Qub3JkZXJXZWlnaHQNCiAgICAgICAgICAgICAgPyBvcmRlclNpemVXZWlnaHQNCiAgICAgICAgICAgICAgOiBvYmplY3Qub3JkZXJXZWlnaHQsDQogICAgICAgICAgc2hpcHBpbmdUaW1lOiBvYmplY3Quc2hpcHBpbmdUaW1lLA0KICAgICAgICAgIG9yZGVyUHJvZml0UmF0ZTogdG9QZXJjZW50KA0KICAgICAgICAgICAgb2JqZWN0LmluY29tZVByaWNlIC8gKG9iamVjdC5jb3N0UHJpY2UgKyBjb21wZW5zYXRpb24pLA0KICAgICAgICAgICAgMQ0KICAgICAgICAgICksDQogICAgICAgICAgb3JkZXJQcm9maXQ6IG9iamVjdC5pbmNvbWVQcmljZSAtIG9iamVjdC5jb3N0UHJpY2UgLSBjb21wZW5zYXRpb24sDQogICAgICAgIH07DQogICAgICB9KTsNCiAgICB9KTsNCiAgICBjb25zdCBoYW5kbGVEb3dubG9hZCA9ICgpID0+IHsNCiAgICAgIGxldCBmcm9tRGF0ZSA9ICRtb21lbnQoZGF0ZUR1cmF0aW9uLnZhbHVlWzBdKQ0KICAgICAgICAuc3VidHJhY3QoMSwgImRheXMiKQ0KICAgICAgICAuZm9ybWF0KCJZWVlZLU1NLUREIDAwOjAwOjAwIik7DQogICAgICBsZXQgdG9EYXRlID0gJG1vbWVudChkYXRlRHVyYXRpb24udmFsdWVbMV0pDQogICAgICAgIC5hZGQoMSwgImRheXMiKQ0KICAgICAgICAuZm9ybWF0KCJZWVlZLU1NLUREIDAwOjAwOjAwIik7DQoNCiAgICAgICRzdG9yZQ0KICAgICAgICAuZGlzcGF0Y2goImdldE9yZGVyVHVybm92ZXIiLCB7DQogICAgICAgICAgZnJvbURhdGU6IGZyb21EYXRlLA0KICAgICAgICAgIHRvRGF0ZTogdG9EYXRlLA0KICAgICAgICB9KQ0KICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgZG93bmxvYWRMb2FkaW5nLnZhbHVlID0gdHJ1ZTsNCiAgICAgICAgICBpbXBvcnQoIkAvY29tcG9uZW50cy9FeHBvcnQyRXhjZWwiKS50aGVuKChleGNlbCkgPT4gew0KICAgICAgICAgICAgY29uc3QgdEhlYWRlciA9IFsNCiAgICAgICAgICAgICAgIuS8muWRmOWQjeensCIsDQogICAgICAgICAgICAgICLorqLljZXlj7ciLA0KICAgICAgICAgICAgICAi5Yib5bu65pe26Ze0IiwNCiAgICAgICAgICAgICAgIuiuoeeul+mHjemHjyhrZykiLA0KICAgICAgICAgICAgICAi5a6e5LuY6YeR6aKdKOWFgykiLA0KICAgICAgICAgICAgICAi5oiQ5pys6YeR6aKdKOWFgykiLA0KICAgICAgICAgICAgICAi6K6i5Y2V54q25oCBIiwNCiAgICAgICAgICAgICAgIuWvhOWHuuaXtumXtCIsDQogICAgICAgICAgICAgICLlr4TpgIHml7bmlYgiLA0KICAgICAgICAgICAgICAi5ZSu5ZCO6LWU5LuYIiwNCiAgICAgICAgICAgICAgIuavj+WNleWIqea2pueOhyIsDQogICAgICAgICAgICAgICLliKnmtqYv5LqP5o2fIiwNCiAgICAgICAgICAgIF07DQogICAgICAgICAgICBjb25zdCBhID0gWw0KICAgICAgICAgICAgICAidXNlcm5hbWUiLA0KICAgICAgICAgICAgICAiaWQiLA0KICAgICAgICAgICAgICAiY3JlYXRlZEF0IiwNCiAgICAgICAgICAgICAgIm9yZGVyUmVhbFdlaWdodCIsDQogICAgICAgICAgICAgICJpbmNvbWVQcmljZSIsDQogICAgICAgICAgICAgICJjb3N0UHJpY2UiLA0KICAgICAgICAgICAgICAib3JkZXJTdGF0dXMiLA0KICAgICAgICAgICAgICAic2hpcHBpbmdUaW1lIiwNCiAgICAgICAgICAgICAgInNoaXBwaW5nRHVyYXRpb24iLA0KICAgICAgICAgICAgICAiY29tcGVuc2F0aW9uIiwNCiAgICAgICAgICAgICAgIm9yZGVyUHJvZml0UmF0ZSIsDQogICAgICAgICAgICAgICJvcmRlclByb2ZpdCIsDQogICAgICAgICAgICBdOw0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IGZvcm1hdEpzb24oYSwgb3JkZXJUdXJub3ZlckRhdGEudmFsdWUpOw0KICAgICAgICAgICAgZXhjZWwuZXhwb3J0X2pzb25fdG9fZXhjZWwoew0KICAgICAgICAgICAgICBoZWFkZXI6IHRIZWFkZXIsDQogICAgICAgICAgICAgIGRhdGEsDQogICAgICAgICAgICAgIGZpbGVuYW1lOg0KICAgICAgICAgICAgICAgICRtb21lbnQoZnJvbURhdGUpDQogICAgICAgICAgICAgICAgICAuYWRkKDEsICJkYXlzIikNCiAgICAgICAgICAgICAgICAgIC5mb3JtYXQoIllZWVkvTU0vREQiKSArDQogICAgICAgICAgICAgICAgIi0iICsNCiAgICAgICAgICAgICAgICAkbW9tZW50KHRvRGF0ZSkNCiAgICAgICAgICAgICAgICAgIC5zdWJ0cmFjdCgxLCAiZGF5cyIpDQogICAgICAgICAgICAgICAgICAuZm9ybWF0KCJNTS9ERCIpICsNCiAgICAgICAgICAgICAgICAiLSDorqLljZXmtYHmsLQiLA0KICAgICAgICAgICAgICBhdXRvV2lkdGg6IHRydWUsDQogICAgICAgICAgICAgIGJvb2tUeXBlOiAieGxzeCIsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGRvd25sb2FkTG9hZGluZy52YWx1ZSA9IGZhbHNlOw0KICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICB9Ow0KDQogICAgY29uc3QgZGF0ZUR1cmF0aW9uID0gcmVmKCIiKTsNCiAgICBjb25zdCBwaWNrZXJPcHRpb25zID0gcmVhY3RpdmUoew0KICAgICAgc2hvcnRjdXRzOiBbDQogICAgICAgIHsNCiAgICAgICAgICB0ZXh0OiAi5pyA6L+R5LiA5ZGoIiwNCiAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgew0KICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDcpOw0KICAgICAgICAgICAgcGlja2VyLiRlbWl0KCJwaWNrIiwgW3N0YXJ0LCBlbmRdKTsNCiAgICAgICAgICB9LA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGV4dDogIuacgOi/keS4gOS4quaciCIsDQogICAgICAgICAgb25DbGljayhwaWNrZXIpIHsNCiAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiAzMCk7DQogICAgICAgICAgICBwaWNrZXIuJGVtaXQoInBpY2siLCBbc3RhcnQsIGVuZF0pOw0KICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0ZXh0OiAi5pyA6L+R5LiJ5Liq5pyIIiwNCiAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgew0KICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDkwKTsNCiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgicGljayIsIFtzdGFydCwgZW5kXSk7DQogICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICAgIF0sDQogICAgfSk7DQoNCiAgICByZXR1cm4gew0KICAgICAga2V5V29yZCwNCiAgICAgIGhhbmRsZVF1ZXJ5LA0KICAgICAgcGFnZUNoYW5nZSwNCg0KICAgICAgb3JkZXJMaXN0LA0KICAgICAgdGFibGVEYXRhLA0KDQogICAgICBkb3dubG9hZExvYWRpbmcsDQogICAgICBoYW5kbGVEb3dubG9hZCwNCiAgICAgIHBpY2tlck9wdGlvbnMsDQogICAgICBkYXRlRHVyYXRpb24sDQogICAgfTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["orderTurnover.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkNA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"orderTurnover.vue","sourceRoot":"src/views/admin/administration","sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n      <div\r\n        class=\"border pt-2 pb-2 pl-3\"\r\n        style=\"font-size:18px;background-color:#F0F3F4;border-radius:3px;\"\r\n      >\r\n        <span class=\"mb-3\">订单流水</span>\r\n        <div class=\"float-right mr-3\">\r\n          <el-input\r\n            v-model=\"keyWord\"\r\n            type=\"text\"\r\n            placeholder=\"搜索\"\r\n            class=\"filter-item searchInputWidth\"\r\n            prefix-icon=\"el-icon-search\"\r\n            @input=\"handleQuery\"\r\n            clearable\r\n          />\r\n        </div>\r\n        <el-popover\r\n          placement=\"bottom\"\r\n          title=\"选择导出时间\"\r\n          width=\"370\"\r\n          trigger=\"click\"\r\n          class=\"float-right mr-3\"\r\n        >\r\n          <div>\r\n            <el-date-picker\r\n              v-model=\"dateDuration\"\r\n              type=\"daterange\"\r\n              align=\"right\"\r\n              unlink-panels\r\n              range-separator=\"至\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"\r\n              :picker-options=\"pickerOptions\"\r\n            >\r\n            </el-date-picker>\r\n            <el-button\r\n              :loading=\"downloadLoading\"\r\n              type=\"primary\"\r\n              @click=\"handleDownload\"\r\n              class=\"float-right mt-3 pl-4 pr-4\"\r\n            >\r\n              导出\r\n            </el-button>\r\n          </div>\r\n          <el-button icon=\"el-icon-document\" type=\"primary\" slot=\"reference\"\r\n            >Excel导出</el-button\r\n          >\r\n        </el-popover>\r\n      </div>\r\n\r\n      <div class=\"mt-5\">\r\n        <!-- <pre>{{orderList}}</pre> -->\r\n        <el-table\r\n          :data=\"tableData\"\r\n          class=\"borderRadius\"\r\n          highlight-current-row\r\n          border\r\n          :default-sort=\"{ prop: 'createdAt', order: 'descending' }\"\r\n        >\r\n          <el-table-column\r\n            prop=\"username\"\r\n            label=\"会员名称\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.username }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"id\" label=\"订单号\" align=\"center\" sortable>\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.id.substr(-10) }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"createdAt\"\r\n            label=\"创建时间\"\r\n            align=\"center\"\r\n            width=\"150\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{\r\n                row.createdAt\r\n                  | moment(\"timezone\", \"Asia/Shanghai\", \"YYYY-MM-DD HH:mm:ss\")\r\n              }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"orderRealWeight\"\r\n            label=\"计算重量(kg)\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.orderRealWeight }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"incomePrice\"\r\n            label=\"实付金额(元)\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.incomePrice }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"costPrice\"\r\n            label=\"成本金额(元)\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.costPrice }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"orderStatus\"\r\n            label=\"订单状态\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span v-if=\"row.orderStatus === '已发货'\" class=\"text-danger\">{{\r\n                row.orderStatus\r\n              }}</span>\r\n              <span v-else class=\"text-success\">{{ row.orderStatus }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            label=\"寄出时间\"\r\n            prop=\"shippingTime\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{\r\n                row.shippingTime\r\n                  | moment(\"timezone\", \"Asia/Shanghai\", \"YYYY-MM-DD\")\r\n              }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"寄送时效\" align=\"center\" sortable>\r\n            <template slot-scope=\"{ row }\">\r\n              <span v-if=\"row.status === '已寄出'\">{{\r\n                row.shippingTime\r\n                  | moment(\"timezone\", \"Asia/Shanghai\", \"from\", \"now\")\r\n              }}</span>\r\n              <span v-else>{{\r\n                row.shippingTime\r\n                  | moment(\"timezone\", \"Asia/Shanghai\", \"from\", \"now\")\r\n              }}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column\r\n            prop=\"compensation\"\r\n            label=\"售后赔付\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.compensation }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          \r\n          <el-table-column\r\n            prop=\"orderProfitRate\"\r\n            label=\"每单利润率\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.orderProfitRate }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"orderProfit\"\r\n            label=\"利润(或亏损)\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.orderProfit }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <!-- <el-table-column prop=\"date\" label=\"更新时间\" align=\"center\"  sortable>\r\n                        <template slot-scope=\"{row}\">\r\n                            <span>{{ row.date | moment(\"timezone\", \"Asia/Shanghai\", \"YYYY-MM-DD HH:mm:ss\") }}</span>\r\n                        </template>\r\n                    </el-table-column> -->\r\n        </el-table>\r\n        <pagination\r\n          :data=\"tableData\"\r\n          class=\"mt-5 mb-5 float-right\"\r\n          @pagechange=\"pageChange\"\r\n          pager=\"prev, pager, next, jumper, ->, total, slot\"\r\n          limitNumber=\"20\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, computed, ref, reactive } from \"@vue/composition-api\";\r\nimport pagination from \"../components/InfoPagination\";\r\nimport { toPercent } from \"../../../utils/function\";\r\nexport default {\r\n  components: {\r\n    pagination,\r\n  },\r\n\r\n  setup(props, { root: { $store, $moment } }) {\r\n    onMounted(() => {\r\n      $store.dispatch(\"getAllOrderForm\", {\r\n        status: \"已签收\",\r\n        page: \"0\",\r\n        size: \"20\",\r\n        status1: \"已发货\",\r\n      });\r\n    });\r\n\r\n    const orderList = computed(() => {\r\n      return $store.state.orderlist;\r\n    });\r\n\r\n    const tableData = computed(() => {\r\n      let data = [];\r\n      if (keyWord.value != \"\") {\r\n        data = returnData.value;\r\n      } else {\r\n        data = orderList.value;\r\n      }\r\n      return data.map((object) => {\r\n        let orderSizeWeight = Math.round(\r\n          (object.orderSize_length *\r\n            object.orderSize_width *\r\n            object.orderSize_height) /\r\n            5000\r\n        );\r\n        let compensation = object.compensation ? object.compensation : 0;\r\n        return {\r\n          id: object._id,\r\n          createdAt: object.createdAt,\r\n          date: object.updatedAt,\r\n          username: object.username,\r\n          incomePrice: object.incomePrice,\r\n          costPrice: object.costPrice,\r\n          compensation: object.compensation,\r\n          orderStatus: object.orderStatus,\r\n          orderRealWeight:\r\n            orderSizeWeight > object.orderWeight\r\n              ? orderSizeWeight\r\n              : object.orderWeight,\r\n          shippingTime: object.shippingTime,\r\n          orderProfitRate: toPercent(\r\n            object.incomePrice / (object.costPrice + compensation),\r\n            1\r\n          ),\r\n          orderProfit: object.incomePrice - object.costPrice - compensation,\r\n        };\r\n      });\r\n    });\r\n\r\n    const keyWord = ref(\"\");\r\n\r\n    const returnData = ref([]);\r\n\r\n    const handleQuery = () => {\r\n      let data = {\r\n        keyword: { searchString: keyWord.value },\r\n        status: \"已签收\",\r\n        page: 0,\r\n        size: 20,\r\n        status1: \"已发货\",\r\n      };\r\n      $store\r\n        .dispatch(\"searchOrders\", data)\r\n        .then((res) => {\r\n          returnData.value = res.data;\r\n        })\r\n        .catch(() => {});\r\n    };\r\n\r\n    const pageChange = (val) => {\r\n      if (keyWord.value === \"\") {\r\n        $store.dispatch(\"getAllOrderForm\", {\r\n          status: \"已签收\",\r\n          page: val - 1,\r\n          size: 20,\r\n          status1: \"已发货\",\r\n        });\r\n      } else {\r\n        $store\r\n          .dispatch(\"searchOrders\", {\r\n            keyword: { searchString: keyWord.value },\r\n            status: \"已签收\",\r\n            page: val - 1,\r\n            size: 20,\r\n            status1: \"已发货\",\r\n          })\r\n          .then((res) => {\r\n            returnData.value = res.data;\r\n          })\r\n          .catch(() => {});\r\n      }\r\n    };\r\n\r\n    const downloadLoading = ref(false);\r\n\r\n    const formatJson = (filterVal, jsonData) => {\r\n      return jsonData.map((v) =>\r\n        filterVal.map((j) => {\r\n          if (j === \"shippingDuration\") {\r\n            if (v[\"shippingTime\"]) {\r\n              return $moment(v[\"shippingTime\"])\r\n                .tz(\"Asia/Shanghai\")\r\n                .fromNow();\r\n            } else {\r\n              return \"\";\r\n            }\r\n          } else if (j == \"shippingTime\") {\r\n            if (v[j]) {\r\n              return $moment(v[j])\r\n                .tz(\"Asia/Shanghai\")\r\n                .format(\"YYYY-MM-DD HH:mm:ss\");\r\n            } else {\r\n              return \"\";\r\n            }\r\n          } else if (j == \"updatedAt\" || j == \"createdAt\") {\r\n            return $moment(v[j])\r\n              .tz(\"Asia/Shanghai\")\r\n              .format(\"YYYY-MM-DD HH:mm:ss\");\r\n          } else {\r\n            return v[j];\r\n          }\r\n        })\r\n      );\r\n    };\r\n\r\n    const orderTurnoverData = computed(() => {\r\n      return $store.state.orderTurnoverData.map((object) => {\r\n        let orderSizeWeight = Math.round(\r\n          (object.orderSize_length *\r\n            object.orderSize_width *\r\n            object.orderSize_height) /\r\n            5000\r\n        );\r\n        let compensation = object.compensation ? object.compensation : 0;\r\n        return {\r\n          id: object._id,\r\n          createdAt: object.createdAt,\r\n          date: object.updatedAt,\r\n          username: object.username,\r\n          incomePrice: object.incomePrice,\r\n          costPrice: object.costPrice,\r\n          compensation: object.compensation,\r\n          orderStatus: object.orderStatus,\r\n          orderRealWeight:\r\n            orderSizeWeight > object.orderWeight\r\n              ? orderSizeWeight\r\n              : object.orderWeight,\r\n          shippingTime: object.shippingTime,\r\n          orderProfitRate: toPercent(\r\n            object.incomePrice / (object.costPrice + compensation),\r\n            1\r\n          ),\r\n          orderProfit: object.incomePrice - object.costPrice - compensation,\r\n        };\r\n      });\r\n    });\r\n    const handleDownload = () => {\r\n      let fromDate = $moment(dateDuration.value[0])\r\n        .subtract(1, \"days\")\r\n        .format(\"YYYY-MM-DD 00:00:00\");\r\n      let toDate = $moment(dateDuration.value[1])\r\n        .add(1, \"days\")\r\n        .format(\"YYYY-MM-DD 00:00:00\");\r\n\r\n      $store\r\n        .dispatch(\"getOrderTurnover\", {\r\n          fromDate: fromDate,\r\n          toDate: toDate,\r\n        })\r\n        .then(() => {\r\n          downloadLoading.value = true;\r\n          import(\"@/components/Export2Excel\").then((excel) => {\r\n            const tHeader = [\r\n              \"会员名称\",\r\n              \"订单号\",\r\n              \"创建时间\",\r\n              \"计算重量(kg)\",\r\n              \"实付金额(元)\",\r\n              \"成本金额(元)\",\r\n              \"订单状态\",\r\n              \"寄出时间\",\r\n              \"寄送时效\",\r\n              \"售后赔付\",\r\n              \"每单利润率\",\r\n              \"利润/亏损\",\r\n            ];\r\n            const a = [\r\n              \"username\",\r\n              \"id\",\r\n              \"createdAt\",\r\n              \"orderRealWeight\",\r\n              \"incomePrice\",\r\n              \"costPrice\",\r\n              \"orderStatus\",\r\n              \"shippingTime\",\r\n              \"shippingDuration\",\r\n              \"compensation\",\r\n              \"orderProfitRate\",\r\n              \"orderProfit\",\r\n            ];\r\n            const data = formatJson(a, orderTurnoverData.value);\r\n            excel.export_json_to_excel({\r\n              header: tHeader,\r\n              data,\r\n              filename:\r\n                $moment(fromDate)\r\n                  .add(1, \"days\")\r\n                  .format(\"YYYY/MM/DD\") +\r\n                \"-\" +\r\n                $moment(toDate)\r\n                  .subtract(1, \"days\")\r\n                  .format(\"MM/DD\") +\r\n                \"- 订单流水\",\r\n              autoWidth: true,\r\n              bookType: \"xlsx\",\r\n            });\r\n            downloadLoading.value = false;\r\n          });\r\n        });\r\n    };\r\n\r\n    const dateDuration = ref(\"\");\r\n    const pickerOptions = reactive({\r\n      shortcuts: [\r\n        {\r\n          text: \"最近一周\",\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n            picker.$emit(\"pick\", [start, end]);\r\n          },\r\n        },\r\n        {\r\n          text: \"最近一个月\",\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n            picker.$emit(\"pick\", [start, end]);\r\n          },\r\n        },\r\n        {\r\n          text: \"最近三个月\",\r\n          onClick(picker) {\r\n            const end = new Date();\r\n            const start = new Date();\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n            picker.$emit(\"pick\", [start, end]);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    return {\r\n      keyWord,\r\n      handleQuery,\r\n      pageChange,\r\n\r\n      orderList,\r\n      tableData,\r\n\r\n      downloadLoading,\r\n      handleDownload,\r\n      pickerOptions,\r\n      dateDuration,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.el-breadcrumb-outer {\r\n  height: 48px;\r\n  font-size: 15px;\r\n  background-color: #f0f3f4;\r\n  border-radius: 3px;\r\n}\r\n.bottom-margin {\r\n  margin-bottom: 120px;\r\n}\r\n.dialog-notice {\r\n  color: #f56c6c;\r\n  font-weight: 800;\r\n  margin-left: 42px;\r\n}\r\n.input-width {\r\n  width: 80px;\r\n}\r\n</style>\r\n"]}]}