{"remainingRequest":"E:\\黎超超\\an-express\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\黎超超\\an-express\\src\\views\\admin\\administration\\GoodPackedList.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\黎超超\\an-express\\src\\views\\admin\\administration\\GoodPackedList.vue","mtime":1603936683972},{"path":"E:\\黎超超\\an-express\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\an-express\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\黎超超\\an-express\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\an-express\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyByZWYsIG9uTW91bnRlZCwgY29tcHV0ZWQgfSBmcm9tICJAdnVlL2NvbXBvc2l0aW9uLWFwaSI7DQppbXBvcnQgcGFnaW5hdGlvbiBmcm9tICIuLi9jb21wb25lbnRzL0luZm9QYWdpbmF0aW9uIjsNCmltcG9ydCB7IGltYWdlRG9tYWluIH0gZnJvbSAiQC9NYWluQVBJLmpzIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogInN0b2NrcGVuZGluZ2xpc3QiLA0KICBjb21wb25lbnRzOiB7DQogICAgcGFnaW5hdGlvbiwNCiAgfSwNCg0KICBzZXR1cChwcm9wcywgeyByb290OiB7ICRzdG9yZSB9IH0pIHsNCiAgICBvbk1vdW50ZWQoKCkgPT4gew0KICAgICAgJHN0b3JlLmRpc3BhdGNoKCJnZXRBbGxHb29kcyIsIHsNCiAgICAgICAgc3RhdHVzOiAi5bey5omT5YyFIiwNCiAgICAgICAgcGFnZTogIjAiLA0KICAgICAgICBzaXplOiAiNSIsDQogICAgICB9KTsNCiAgICB9KTsNCiAgICBjb25zdCBhbGxHb29kcyA9IGNvbXB1dGVkKCgpID0+IHsNCiAgICAgIHJldHVybiAkc3RvcmUuc3RhdGUuYWxsR29vZHM7DQogICAgfSk7DQoNCiAgICBjb25zdCBhbGxTdG9ja2VkR29vZHMgPSBjb21wdXRlZCgoKSA9PiB7DQogICAgICBsZXQgZGF0YSA9IFtdOw0KICAgICAgaWYgKGtleVdvcmQudmFsdWUgIT0gIiIpIHsNCiAgICAgICAgZGF0YSA9IHJldHVybkRhdGEudmFsdWU7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBkYXRhID0gYWxsR29vZHMudmFsdWU7DQogICAgICB9DQogICAgICByZXR1cm4gZGF0YS5tYXAoKG9iamVjdCkgPT4gew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIGdvb2RJZDogb2JqZWN0Ll9pZCwNCiAgICAgICAgICBnb29kTmFtZTogb2JqZWN0Lmdvb2ROYW1lLA0KICAgICAgICAgIGxvY2FsRXhwcmVzc051bWJlcjogb2JqZWN0LmxvY2FsRXhwcmVzc051bWJlciwNCiAgICAgICAgICBsb2NhbEV4cHJlc3NDb21wYW55OiBvYmplY3QubG9jYWxFeHByZXNzQ29tcGFueSwNCiAgICAgICAgICBnb29kU3RhdHVzOiBvYmplY3QuZ29vZFN0YXR1cywNCiAgICAgICAgICBwYWNrYWdlTG9jYXRpb246IG9iamVjdC5wYWNrYWdlTG9jYXRpb24sDQogICAgICAgICAgZ29vZEltZzogaW1hZ2VEb21haW4gKyBvYmplY3QuZ29vZEltZywNCiAgICAgICAgICBnb29kU2l6ZV9oZWlnaHQ6IG9iamVjdC5nb29kU2l6ZV9oZWlnaHQsDQogICAgICAgICAgZ29vZFNpemVfbGVuZ3RoOiBvYmplY3QuZ29vZFNpemVfbGVuZ3RoLA0KICAgICAgICAgIGdvb2RTaXplX3dpZHRoOiBvYmplY3QuZ29vZFNpemVfd2lkdGgsDQogICAgICAgICAgZ29vZFR5cGU6IG9iamVjdC5nb29kVHlwZSwNCiAgICAgICAgICBnb29kV2VpZ2h0OiBvYmplY3QuZ29vZFdlaWdodCwNCiAgICAgICAgICB1cGRhdGVkQXQ6IG9iamVjdC51cGRhdGVkQXQsDQogICAgICAgICAgaXNTdG9yYWdlOiBvYmplY3QuaXNTdG9yYWdlLA0KICAgICAgICAgIHVzZXJuYW1lOiBvYmplY3QudXNlcm5hbWUsDQogICAgICAgIH07DQogICAgICB9KTsNCiAgICB9KTsNCg0KICAgIGNvbnN0IGtleVdvcmQgPSByZWYoIiIpOw0KDQogICAgY29uc3QgcmV0dXJuRGF0YSA9IHJlZihbXSk7DQoNCiAgICBjb25zdCBoYW5kbGVRdWVyeSA9ICgpID0+IHsNCiAgICAgIGxldCBkYXRhID0gew0KICAgICAgICBrZXl3b3JkOiB7IHNlYXJjaFN0cmluZzoga2V5V29yZC52YWx1ZSB9LA0KICAgICAgICBzdGF0dXM6ICLlt7LmiZPljIUiLA0KICAgICAgICBwYWdlOiAiMCIsDQogICAgICAgIHNpemU6ICI1IiwNCiAgICAgIH07DQogICAgICAkc3RvcmUNCiAgICAgICAgLmRpc3BhdGNoKCJzZWFyY2hHb29kcyIsIGRhdGEpDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICByZXR1cm5EYXRhLnZhbHVlID0gcmVzLmRhdGE7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7DQogICAgfTsNCg0KICAgIGNvbnN0IHBhZ2VDaGFuZ2UgPSAodmFsKSA9PiB7DQogICAgICBpZiAoa2V5V29yZC52YWx1ZSA9PT0gIiIpIHsNCiAgICAgICAgJHN0b3JlLmRpc3BhdGNoKCJnZXRBbGxHb29kcyIsIHsNCiAgICAgICAgICBzdGF0dXM6ICLlt7LmiZPljIUiLA0KICAgICAgICAgIHBhZ2U6IHZhbCAtIDEsDQogICAgICAgICAgc2l6ZTogIjUiLA0KICAgICAgICB9KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgICRzdG9yZQ0KICAgICAgICAgIC5kaXNwYXRjaCgic2VhcmNoR29vZHMiLCB7DQogICAgICAgICAgICBrZXl3b3JkOiB7IHNlYXJjaFN0cmluZzoga2V5V29yZC52YWx1ZSB9LA0KICAgICAgICAgICAgc3RhdHVzOiAi5bey5omT5YyFIiwNCiAgICAgICAgICAgIHBhZ2U6IHZhbCAtIDEsDQogICAgICAgICAgICBzaXplOiAiNSIsDQogICAgICAgICAgfSkNCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICByZXR1cm5EYXRhLnZhbHVlID0gcmVzLmRhdGE7DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKCkgPT4ge30pOw0KICAgICAgfQ0KICAgIH07DQoNCiAgICByZXR1cm4gew0KICAgICAga2V5V29yZCwNCiAgICAgIGhhbmRsZVF1ZXJ5LA0KICAgICAgcGFnZUNoYW5nZSwNCg0KICAgICAgYWxsU3RvY2tlZEdvb2RzLA0KICAgICAgYWxsR29vZHMsDQogICAgfTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["GoodPackedList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"GoodPackedList.vue","sourceRoot":"src/views/admin/administration","sourcesContent":["<template>\r\n  <div class=\"mt-5\">\r\n    <el-breadcrumb\r\n      separator-class=\"el-icon-arrow-right\"\r\n      class=\"border el-breadcrumb-outer\"\r\n    >\r\n      <el-breadcrumb-item class=\"mt-3 ml-3\">所有商品</el-breadcrumb-item>\r\n      <el-breadcrumb-item class=\"mt-3\"\r\n        ><span style=\"color:#f39c12;\"><i class=\"fas fa-archive\" /> 已打包</span>\r\n      </el-breadcrumb-item>\r\n\r\n      <div class=\"float-right mt-2 mr-3\">\r\n        <el-input\r\n          v-model=\"keyWord\"\r\n          type=\"text\"\r\n          placeholder=\"搜索\"\r\n          class=\"filter-item searchInputWidth\"\r\n          prefix-icon=\"el-icon-search\"\r\n          @input=\"handleQuery\"\r\n          clearable\r\n        />\r\n      </div>\r\n    </el-breadcrumb>\r\n    <el-table :data=\"allStockedGoods\" class=\"borderRadius mt-5\" border>\r\n      <el-table-column prop=\"goodId\" label=\"货物号\" align=\"center\" sortable>\r\n        <template slot-scope=\"{ row }\">\r\n          {{ row.goodId.substr(-10) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"username\" label=\"会员名称\" align=\"center\" sortable>\r\n        <template slot-scope=\"{ row }\">\r\n          {{ row.username }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"goodName\" label=\"货物名称\" align=\"center\" sortable>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"packageLocation\"\r\n        label=\"货物位置\"\r\n        align=\"center\"\r\n        sortable\r\n      >\r\n      </el-table-column>\r\n\r\n      <el-table-column\r\n        prop=\"goodSize_length\"\r\n        label=\"货物长度(cm)\"\r\n        align=\"center\"\r\n        sortable\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"goodSize_width\"\r\n        label=\"货物宽度(cm)\"\r\n        align=\"center\"\r\n        sortable\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"goodSize_height\"\r\n        label=\"货物高度(cm)\"\r\n        align=\"center\"\r\n        sortable\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"goodWeight\"\r\n        label=\"货物重量kg\"\r\n        align=\"center\"\r\n        sortable\r\n      >\r\n      </el-table-column>\r\n      <el-table-column prop=\"goodType\" label=\"货物类型\" align=\"center\" sortable>\r\n        <template slot-scope=\"{ row }\">\r\n          <span v-if=\"row.goodType === 0\">粉末货物</span>\r\n          <span v-if=\"row.goodType === 1\">液体货物</span>\r\n          <span v-if=\"row.goodType === 2\">食品货物</span>\r\n          <span v-if=\"row.goodType === 3\">敏感类</span>\r\n          <span v-if=\"row.goodType === 4\">普通货物</span>\r\n          <span v-if=\"row.goodType === 5\">体积货物</span>\r\n          <span v-if=\"row.goodType === 6\">仿牌</span>\r\n          <span v-if=\"row.goodType === 7\">木制品</span>\r\n          <span v-if=\"row.goodType === 8\">电池</span>\r\n          <span v-if=\"row.goodType === 9\">内置电</span>\r\n          <span v-if=\"row.goodType === 10\">违禁品</span>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"货物照片\" align=\"center\">\r\n        <template slot-scope=\"{ row }\">\r\n          <el-image\r\n            :src=\"row.goodImg\"\r\n            fit=\"fill\"\r\n            :preview-src-list=\"[row.goodImg]\"\r\n          ></el-image>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"updatedAt\"\r\n        label=\"更新时间\"\r\n        align=\"center\"\r\n        sortable\r\n      >\r\n        <template slot-scope=\"{ row }\">\r\n          {{\r\n            row.updatedAt\r\n              | moment(\"timezone\", \"Asia/Shanghai\", \"YYYY-MM-DD HH:mm:ss\")\r\n          }}\r\n        </template>\r\n      </el-table-column>\r\n      \r\n      <el-table-column\r\n        prop=\"goodStatus\"\r\n        label=\"货物状态\"\r\n        align=\"center\"\r\n        sortable\r\n      >\r\n        <template slot-scope=\"{ row }\" class=\"text-primary\">\r\n          <span class=\"text-success\">{{ row.goodStatus }}</span>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <pagination\r\n      :data=\"allStockedGoods\"\r\n      class=\"mt-5 mb-5 float-right\"\r\n      @pagechange=\"pageChange\"\r\n      pager=\"prev, pager, next, jumper, ->, total, slot\"\r\n      limitNumber=\"5\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, computed } from \"@vue/composition-api\";\r\nimport pagination from \"../components/InfoPagination\";\r\nimport { imageDomain } from \"@/MainAPI.js\";\r\nexport default {\r\n  name: \"stockpendinglist\",\r\n  components: {\r\n    pagination,\r\n  },\r\n\r\n  setup(props, { root: { $store } }) {\r\n    onMounted(() => {\r\n      $store.dispatch(\"getAllGoods\", {\r\n        status: \"已打包\",\r\n        page: \"0\",\r\n        size: \"5\",\r\n      });\r\n    });\r\n    const allGoods = computed(() => {\r\n      return $store.state.allGoods;\r\n    });\r\n\r\n    const allStockedGoods = computed(() => {\r\n      let data = [];\r\n      if (keyWord.value != \"\") {\r\n        data = returnData.value;\r\n      } else {\r\n        data = allGoods.value;\r\n      }\r\n      return data.map((object) => {\r\n        return {\r\n          goodId: object._id,\r\n          goodName: object.goodName,\r\n          localExpressNumber: object.localExpressNumber,\r\n          localExpressCompany: object.localExpressCompany,\r\n          goodStatus: object.goodStatus,\r\n          packageLocation: object.packageLocation,\r\n          goodImg: imageDomain + object.goodImg,\r\n          goodSize_height: object.goodSize_height,\r\n          goodSize_length: object.goodSize_length,\r\n          goodSize_width: object.goodSize_width,\r\n          goodType: object.goodType,\r\n          goodWeight: object.goodWeight,\r\n          updatedAt: object.updatedAt,\r\n          isStorage: object.isStorage,\r\n          username: object.username,\r\n        };\r\n      });\r\n    });\r\n\r\n    const keyWord = ref(\"\");\r\n\r\n    const returnData = ref([]);\r\n\r\n    const handleQuery = () => {\r\n      let data = {\r\n        keyword: { searchString: keyWord.value },\r\n        status: \"已打包\",\r\n        page: \"0\",\r\n        size: \"5\",\r\n      };\r\n      $store\r\n        .dispatch(\"searchGoods\", data)\r\n        .then((res) => {\r\n          returnData.value = res.data;\r\n        })\r\n        .catch(() => {});\r\n    };\r\n\r\n    const pageChange = (val) => {\r\n      if (keyWord.value === \"\") {\r\n        $store.dispatch(\"getAllGoods\", {\r\n          status: \"已打包\",\r\n          page: val - 1,\r\n          size: \"5\",\r\n        });\r\n      } else {\r\n        $store\r\n          .dispatch(\"searchGoods\", {\r\n            keyword: { searchString: keyWord.value },\r\n            status: \"已打包\",\r\n            page: val - 1,\r\n            size: \"5\",\r\n          })\r\n          .then((res) => {\r\n            returnData.value = res.data;\r\n          })\r\n          .catch(() => {});\r\n      }\r\n    };\r\n\r\n    return {\r\n      keyWord,\r\n      handleQuery,\r\n      pageChange,\r\n\r\n      allStockedGoods,\r\n      allGoods,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.el-upload__input {\r\n  display: none !important;\r\n}\r\n.el-upload {\r\n  width: 100% !important;\r\n}\r\n.el-upload-dragger {\r\n  width: 100% !important;\r\n}\r\n.el-table .warning-row {\r\n  background: oldlace;\r\n}\r\n\r\n.el-table .success-row {\r\n  background: #f0f9eb;\r\n}\r\n\r\n.el-breadcrumb-outer {\r\n  height: 48px;\r\n  font-size: 15px;\r\n  background-color: #f0f3f4;\r\n  border-radius: 3px;\r\n}\r\n</style>\r\n"]}]}