{"remainingRequest":"E:\\黎超超\\express\\express\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\黎超超\\express\\express\\src\\views\\admin\\user\\ExpressPending.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\黎超超\\express\\express\\src\\views\\admin\\user\\ExpressPending.vue","mtime":1603936683985},{"path":"E:\\黎超超\\express\\express\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\express\\express\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\黎超超\\express\\express\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\express\\express\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBjb21wdXRlZCwgb25Nb3VudGVkLCByZWYgfSBmcm9tICJAdnVlL2NvbXBvc2l0aW9uLWFwaSI7DQppbXBvcnQgcGFnaW5hdGlvbiBmcm9tICIuLi9jb21wb25lbnRzL0luZm9QYWdpbmF0aW9uIjsNCmltcG9ydCB7IGltYWdlRG9tYWluIH0gZnJvbSAiQC9NYWluQVBJLmpzIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIHBhZ2luYXRpb24sDQogIH0sDQogIHNldHVwKHByb3BzLCB7IHJvb3Q6IHsgJHN0b3JlIH0gfSkgew0KICAgIG9uTW91bnRlZCgoKSA9PiB7DQogICAgICAkc3RvcmUuZGlzcGF0Y2goImdldE9yZGVyRm9ybSIsIHsNCiAgICAgICAgc3RhdHVzOiAi5b6F5Y+R6LSnIiwNCiAgICAgICAgcGFnZTogMCwNCiAgICAgICAgc2l6ZTogNSwNCiAgICAgIH0pOw0KICAgICAgJHN0b3JlLmRpc3BhdGNoKCJnZXRVc2VySW5mbyIpOw0KICAgIH0pOw0KDQogICAgLy9kYXRhIGZvciBkaWFwbGF5DQogICAgY29uc3Qgc2VsZk9yZGVyTGlzdCA9IGNvbXB1dGVkKCgpID0+IHsNCiAgICAgIHJldHVybiAkc3RvcmUuc3RhdGUuc2VsZm9yZGVybGlzdDsNCiAgICB9KTsNCiAgICBjb25zdCBrZXlXb3JkID0gcmVmKCIiKTsNCiAgICBjb25zdCByZXR1cm5EYXRhID0gcmVmKFtdKTsNCiAgICBjb25zdCBoYW5kbGVRdWVyeSA9ICgpID0+IHsNCiAgICAgIGxldCBkYXRhID0gew0KICAgICAgICBrZXl3b3JkOiB7IHNlYXJjaFN0cmluZzoga2V5V29yZC52YWx1ZSB9LA0KICAgICAgICBzdGF0dXM6ICLlvoXlj5HotKciLA0KICAgICAgICBwYWdlOiAwLA0KICAgICAgICBzaXplOiA1LA0KICAgICAgfTsNCiAgICAgICRzdG9yZQ0KICAgICAgICAuZGlzcGF0Y2goInNlYXJjaE9yZGVyc0ZvclVzZXIiLCBkYXRhKQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgcmV0dXJuRGF0YS52YWx1ZSA9IHJlcy5kYXRhOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKCkgPT4ge30pOw0KICAgIH07DQogICAgY29uc3QgdGFibGVEYXRhID0gY29tcHV0ZWQoKCkgPT4gew0KICAgICAgbGV0IGRhdGEgPSBbXTsNCiAgICAgIGlmIChrZXlXb3JkLnZhbHVlICE9ICIiKSB7DQogICAgICAgIGRhdGEgPSByZXR1cm5EYXRhLnZhbHVlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgZGF0YSA9IHNlbGZPcmRlckxpc3QudmFsdWU7DQogICAgICB9DQogICAgICByZXR1cm4gZGF0YS5tYXAoKG9iamVjdCkgPT4gew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIHVwZGF0ZWRBdDogb2JqZWN0LnVwZGF0ZWRBdCwNCiAgICAgICAgICBvcmRlcklkOiBvYmplY3QuX2lkLA0KICAgICAgICAgIHBpY3R1cmU6IGltYWdlRG9tYWluICsgb2JqZWN0Lm9yZGVySW1nLA0KICAgICAgICAgIHdlaWdodDogb2JqZWN0Lm9yZGVyV2VpZ2h0LA0KICAgICAgICAgIG9yZGVyTGVuZ3RoOiBvYmplY3Qub3JkZXJTaXplX2xlbmd0aCwNCiAgICAgICAgICBvcmRlcldpZHRoOiBvYmplY3Qub3JkZXJTaXplX3dpZHRoLA0KICAgICAgICAgIG9yZGVySGVpZ2h0OiBvYmplY3Qub3JkZXJTaXplX2hlaWdodCwNCiAgICAgICAgICB0eXBlOiBvYmplY3Qub3JkZXJUeXBlLA0KICAgICAgICAgIHBvc2l0aW9uOiBvYmplY3QucGFja2FnZUxvY2F0aW9uLA0KICAgICAgICAgIHNoaXBwaW5nQ291bnRyeTogb2JqZWN0LnNoaXBwaW5nQ291bnRyeSwNCiAgICAgICAgICBzaGlwcGluZ1Byb3ZpbmNlOiBvYmplY3Quc2hpcHBpbmdQcm92aW5jZSwNCiAgICAgICAgICBzaGlwcGluZ0NpdHk6IG9iamVjdC5zaGlwcGluZ0NpdHksDQogICAgICAgICAgc2hpcHBpbmdQb3N0Y29kZTogb2JqZWN0LnNoaXBwaW5nUG9zdGNvZGUsDQogICAgICAgICAgc2hpcHBpbmdBZGRyZXNzOiBvYmplY3Quc2hpcHBpbmdBZGRyZXNzLA0KICAgICAgICAgIHNoaXBwaW5nUmVjZXZpZXI6IG9iamVjdC5zaGlwcGluZ1JlY2V2aWVyLA0KICAgICAgICAgIHNoaXBwaW5nUGhvbmU6IG9iamVjdC5zaGlwcGluZ1Bob25lLA0KICAgICAgICAgIGNob3NlbkV4cHJlc3M6IG9iamVjdC5vcmRlckV4cHJlc3NSZXRhaWwsDQogICAgICAgICAgY2hvc2VuRXhwcmVzc1ByaWNlOiBvYmplY3QuaW5jb21lUHJpY2UsDQogICAgICAgICAgb3JkZXJzdGF0dXM6IG9iamVjdC5vcmRlclN0YXR1cywNCiAgICAgICAgICBvcmRlckdvb2RzTGlzdDogb2JqZWN0Lm9yZGVyR29vZHNMaXN0LA0KICAgICAgICB9Ow0KICAgICAgfSk7DQogICAgfSk7DQoNCiAgICAvL3BhZ2UgY2hhbmdlIHBhZ2luYXRpb24NCiAgICBjb25zdCBwYWdlQ2hhbmdlID0gKHZhbCkgPT4gew0KICAgICAgaWYgKGtleVdvcmQudmFsdWUgPT09ICIiKSB7DQogICAgICAgICRzdG9yZS5kaXNwYXRjaCgiZ2V0T3JkZXJGb3JtIiwgew0KICAgICAgICAgIHN0YXR1czogIuW+heWPkei0pyIsDQogICAgICAgICAgcGFnZTogdmFsIC0gMSwNCiAgICAgICAgICBzaXplOiA1LA0KICAgICAgICB9KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgICRzdG9yZQ0KICAgICAgICAgIC5kaXNwYXRjaCgic2VhcmNoT3JkZXJzRm9yVXNlciIsIHsNCiAgICAgICAgICAgIGtleXdvcmQ6IHsgc2VhcmNoU3RyaW5nOiBrZXlXb3JkLnZhbHVlIH0sDQogICAgICAgICAgICBzdGF0dXM6ICLlvoXlj5HotKciLA0KICAgICAgICAgICAgcGFnZTogdmFsIC0gMSwNCiAgICAgICAgICAgIHNpemU6IDUsDQogICAgICAgICAgfSkNCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICByZXR1cm5EYXRhLnZhbHVlID0gcmVzLmRhdGE7DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKCkgPT4ge30pOw0KICAgICAgfQ0KICAgIH07DQoNCiAgICByZXR1cm4gew0KICAgICAgc2VsZk9yZGVyTGlzdCwNCiAgICAgIGtleVdvcmQsDQogICAgICBoYW5kbGVRdWVyeSwNCiAgICAgIHRhYmxlRGF0YSwNCiAgICAgIHBhZ2VDaGFuZ2UsDQogICAgfTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["ExpressPending.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ExpressPending.vue","sourceRoot":"src/views/admin/user","sourcesContent":["<template>\r\n  <div class=\"mt-5 ml-4\">\r\n    <div>\r\n      <el-breadcrumb\r\n        separator-class=\"el-icon-arrow-right\"\r\n        class=\"border el-breadcrumb-outer\"\r\n      >\r\n        <el-breadcrumb-item class=\"mt-3 ml-3\">订单详情</el-breadcrumb-item>\r\n        <el-breadcrumb-item class=\"mt-3\"\r\n          ><span style=\"color:#f39c12;\"\r\n            ><i class=\"fas fa-people-carry\" /> 待发货</span\r\n          >\r\n        </el-breadcrumb-item>\r\n        <div class=\"float-right mt-2 mr-3\">\r\n          <el-input\r\n            v-model=\"keyWord\"\r\n            type=\"text\"\r\n            placeholder=\"搜索\"\r\n            class=\"filter-item searchInputWidth\"\r\n            prefix-icon=\"el-icon-search\"\r\n            @input=\"handleQuery\"\r\n            clearable\r\n          />\r\n        </div>\r\n      </el-breadcrumb>\r\n      <div class=\"mt-5\">\r\n        <el-table\r\n          :data=\"tableData\"\r\n          class=\"borderRadius\"\r\n          highlight-current-row\r\n          border\r\n        >\r\n          <el-table-column\r\n            prop=\"orderId\"\r\n            label=\"订单号码\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.orderId.substr(-10) }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"shippingCountry\"\r\n            label=\"运至国家\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.shippingCountry }}</span>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"picture\" label=\"包裹图片\" align=\"center\">\r\n            <template slot-scope=\"{ row }\">\r\n              <el-image\r\n                :src=\"row.picture\"\r\n                :preview-src-list=\"[row.picture]\"\r\n              ></el-image>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"orderGoodsList\"\r\n            label=\"订单详情\"\r\n            align=\"center\"\r\n            width=\"160\"\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <div v-for=\"(item, index) in row.orderGoodsList\" :key=\"index\" class=\"border-bottom\">\r\n                <div>\r\n                  货物名称:{{ item.goodName }}\r\n                </div>\r\n                <div>\r\n                  货物数量:{{ item.goodNumber }}\r\n                </div>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"weight\"\r\n            label=\"重量(kg)\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span>{{ row.weight }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"尺寸(cm)\" align=\"center\">\r\n            <template slot-scope=\"{ row }\">\r\n              <div>长: {{ row.orderLength }}</div>\r\n              <div>宽: {{ row.orderWidth }}</div>\r\n              <div>高: {{ row.orderHeight }}</div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"type\" label=\"类别\" align=\"center\" sortable>\r\n            <template slot-scope=\"{ row }\">\r\n              <span v-if=\"row.type === 0\">粉末货物</span>\r\n              <span v-if=\"row.type === 1\">液体货物</span>\r\n              <span v-if=\"row.type === 2\">食品货物</span>\r\n              <span v-if=\"row.type === 3\">敏感类</span>\r\n              <span v-if=\"row.type === 4\">普通货物</span>\r\n              <span v-if=\"row.type === 5\">体积货物</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"position\"\r\n            label=\"包裹位置\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              {{ row.position }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"updatedAt\"\r\n            label=\"更新时间\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              {{\r\n                row.updatedAt\r\n                  | moment(\"timezone\", \"Asia/Shanghai\", \"YYYY-MM-DD HH:mm:ss\")\r\n              }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"orderstatus\"\r\n            label=\"订单状态\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <span class=\"text-danger\">{{ row.orderstatus }}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"收件地址\" width=\"150\">\r\n            <template slot-scope=\"{ row }\">\r\n              <div>省份: {{ row.shippingProvince }}</div>\r\n              <div>城市: {{ row.shippingCity }}</div>\r\n              <div>地址: {{ row.shippingAddress }}</div>\r\n              <div>邮编: {{ row.shippingPostcode }}</div>\r\n              <div>联系人: {{ row.shippingRecevier }}</div>\r\n              <div>联系电话: {{ row.shippingPhone }}</div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"chosenExpress\"\r\n            label=\"渠道选择\"\r\n            width=\"150\"\r\n            fixed=\"right\"\r\n            align=\"center\"\r\n            sortable\r\n          >\r\n            <template slot-scope=\"{ row }\">\r\n              <p>快递：{{ row.chosenExpress }}</p>\r\n              <p>价格：{{ row.chosenExpressPrice }}</p>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <pagination\r\n          :data=\"tableData\"\r\n          class=\"mt-5 float-right\"\r\n          @pagechange=\"pageChange\"\r\n          pager=\"prev, pager, next, jumper, ->, total, slot\"\r\n          limitNumber=\"5\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted, ref } from \"@vue/composition-api\";\r\nimport pagination from \"../components/InfoPagination\";\r\nimport { imageDomain } from \"@/MainAPI.js\";\r\nexport default {\r\n  components: {\r\n    pagination,\r\n  },\r\n  setup(props, { root: { $store } }) {\r\n    onMounted(() => {\r\n      $store.dispatch(\"getOrderForm\", {\r\n        status: \"待发货\",\r\n        page: 0,\r\n        size: 5,\r\n      });\r\n      $store.dispatch(\"getUserInfo\");\r\n    });\r\n\r\n    //data for diaplay\r\n    const selfOrderList = computed(() => {\r\n      return $store.state.selforderlist;\r\n    });\r\n    const keyWord = ref(\"\");\r\n    const returnData = ref([]);\r\n    const handleQuery = () => {\r\n      let data = {\r\n        keyword: { searchString: keyWord.value },\r\n        status: \"待发货\",\r\n        page: 0,\r\n        size: 5,\r\n      };\r\n      $store\r\n        .dispatch(\"searchOrdersForUser\", data)\r\n        .then((res) => {\r\n          returnData.value = res.data;\r\n        })\r\n        .catch(() => {});\r\n    };\r\n    const tableData = computed(() => {\r\n      let data = [];\r\n      if (keyWord.value != \"\") {\r\n        data = returnData.value;\r\n      } else {\r\n        data = selfOrderList.value;\r\n      }\r\n      return data.map((object) => {\r\n        return {\r\n          updatedAt: object.updatedAt,\r\n          orderId: object._id,\r\n          picture: imageDomain + object.orderImg,\r\n          weight: object.orderWeight,\r\n          orderLength: object.orderSize_length,\r\n          orderWidth: object.orderSize_width,\r\n          orderHeight: object.orderSize_height,\r\n          type: object.orderType,\r\n          position: object.packageLocation,\r\n          shippingCountry: object.shippingCountry,\r\n          shippingProvince: object.shippingProvince,\r\n          shippingCity: object.shippingCity,\r\n          shippingPostcode: object.shippingPostcode,\r\n          shippingAddress: object.shippingAddress,\r\n          shippingRecevier: object.shippingRecevier,\r\n          shippingPhone: object.shippingPhone,\r\n          chosenExpress: object.orderExpressRetail,\r\n          chosenExpressPrice: object.incomePrice,\r\n          orderstatus: object.orderStatus,\r\n          orderGoodsList: object.orderGoodsList,\r\n        };\r\n      });\r\n    });\r\n\r\n    //page change pagination\r\n    const pageChange = (val) => {\r\n      if (keyWord.value === \"\") {\r\n        $store.dispatch(\"getOrderForm\", {\r\n          status: \"待发货\",\r\n          page: val - 1,\r\n          size: 5,\r\n        });\r\n      } else {\r\n        $store\r\n          .dispatch(\"searchOrdersForUser\", {\r\n            keyword: { searchString: keyWord.value },\r\n            status: \"待发货\",\r\n            page: val - 1,\r\n            size: 5,\r\n          })\r\n          .then((res) => {\r\n            returnData.value = res.data;\r\n          })\r\n          .catch(() => {});\r\n      }\r\n    };\r\n\r\n    return {\r\n      selfOrderList,\r\n      keyWord,\r\n      handleQuery,\r\n      tableData,\r\n      pageChange,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.el-breadcrumb-outer {\r\n  height: 48px;\r\n  font-size: 15px;\r\n  background-color: #f0f3f4;\r\n  border-radius: 3px;\r\n}\r\n.bottom-margin {\r\n  margin-bottom: 120px;\r\n}\r\n</style>\r\n"]}]}