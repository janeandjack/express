{"remainingRequest":"E:\\黎超超\\express\\express\\node_modules\\babel-loader\\lib\\index.js!E:\\黎超超\\express\\express\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\黎超超\\express\\express\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\黎超超\\express\\express\\src\\views\\admin\\user\\AfterSaleService.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\黎超超\\express\\express\\src\\views\\admin\\user\\AfterSaleService.vue","mtime":1603936683984},{"path":"E:\\黎超超\\express\\express\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\express\\express\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\黎超超\\express\\express\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\express\\express\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBvbk1vdW50ZWQsIGNvbXB1dGVkLCByZWFjdGl2ZSwgcmVmLCBpbmplY3QgfSBmcm9tICJAdnVlL2NvbXBvc2l0aW9uLWFwaSI7CmltcG9ydCBwYWdpbmF0aW9uIGZyb20gIi4uL2NvbXBvbmVudHMvSW5mb1BhZ2luYXRpb24iOwppbXBvcnQgeyBpbWFnZURvbWFpbiB9IGZyb20gIkAvTWFpbkFQSS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciBfcmVmJHJvb3QgPSBfcmVmLnJvb3QsCiAgICAgICAgJHN0b3JlID0gX3JlZiRyb290LiRzdG9yZSwKICAgICAgICAkbWVzc2FnZSA9IF9yZWYkcm9vdC4kbWVzc2FnZTsKICAgIHZhciBkaWFsb2dWaXNpYmxlID0gcmVmKGZhbHNlKTsKICAgIHZhciBsb2FkaW5nID0gcmVmKGZhbHNlKTsgLy9pbmplY3QgcmVsb2FkKCkgdG8gcmVmcmVzaCBjb21wb25lbnQKCiAgICB2YXIgdG9SZWxvYWQgPSBpbmplY3QoInJlbG9hZCIpOwogICAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgICAgJHN0b3JlLmRpc3BhdGNoKCJnZXRVc2VyQWZ0ZXJTYWxlIiwgewogICAgICAgIHBhZ2U6IDAsCiAgICAgICAgc2l6ZTogNQogICAgICB9KTsKICAgICAgJHN0b3JlLmRpc3BhdGNoKCJnZXRPcmRlckZvcm0iLCB7CiAgICAgICAgc3RhdHVzOiAi5bey562+5pS2IiwKICAgICAgICBwYWdlOiAwLAogICAgICAgIHNpemU6IDEwLAogICAgICAgIHN0YXR1czE6ICLlt7Llj5HotKciCiAgICAgIH0pOwogICAgICAkc3RvcmUuZGlzcGF0Y2goImdldFVwVG9rZW4iKTsKICAgIH0pOyAvL3RhYmxlRGF0YSBmb3IgZGlhcGxheQoKICAgIHZhciBhZnRlclNhbGVMaXN0ID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJHN0b3JlLnN0YXRlLmFmdGVyc2FsZWxpc3Q7CiAgICB9KTsKICAgIHZhciB0YWJsZURhdGEgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBhZnRlclNhbGVMaXN0LnZhbHVlLm1hcChmdW5jdGlvbiAob2JqZWN0LCBpbmRleCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBhZnRlcnNhbGVudW1iZXI6IGluZGV4ICsgMSwKICAgICAgICAgIGlkOiBvYmplY3QuX2lkLAogICAgICAgICAgb3JkZXJJZDogb2JqZWN0Lm9yZGVyX2lkLAogICAgICAgICAgYWZ0ZXJzYWxlX3R5cGU6IG9iamVjdC5hZnRlcnNhbGVfdHlwZSwKICAgICAgICAgIGFmdGVyc2FsZV90aXRsZTogb2JqZWN0LmFmdGVyc2FsZV90aXRsZSwKICAgICAgICAgIGFmdGVyc2FsZV9jb250ZW50OiBvYmplY3QuYWZ0ZXJzYWxlX2NvbnRlbnQsCiAgICAgICAgICBhZnRlcnNhbGVfaW1hZ2U6IG9iamVjdC5hZnRlcnNhbGVfaW1hZ2UubWFwKGZ1bmN0aW9uIChvYmplY3QpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBzcmM6IGltYWdlRG9tYWluICsgb2JqZWN0CiAgICAgICAgICAgIH07CiAgICAgICAgICB9KSwKICAgICAgICAgIGNvbXBlbnNhdGlvbjogb2JqZWN0LmNvbXBlbnNhdGlvbiwKICAgICAgICAgIHNvbHV0aW9uOiBvYmplY3Quc29sdXRpb24sCiAgICAgICAgICBpc19zb2x2ZTogb2JqZWN0LmlzX3NvbHZlLAogICAgICAgICAgdXBkYXRlZEF0OiBvYmplY3QudXBkYXRlZEF0CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsgLy9wYWdlIGNoYW5nZQoKICAgIHZhciBwYWdlQ2hhbmdlID0gZnVuY3Rpb24gcGFnZUNoYW5nZSh2YWwpIHsKICAgICAgJHN0b3JlLmRpc3BhdGNoKCJnZXRVc2VyQWZ0ZXJTYWxlIiwgewogICAgICAgIHBhZ2U6IHZhbCAtIDEsCiAgICAgICAgc2l6ZTogNQogICAgICB9KTsKICAgIH07IC8vcGljdHVyZQogICAgLy9waWN0dXJlIGRpc3BsYXkKCgogICAgdmFyIGxpZ2h0Ym94VmlzaWJsZSA9IHJlZihmYWxzZSk7CiAgICB2YXIgaW5kZXggPSByZWYoMCk7CiAgICB2YXIgaW1nID0gcmVmKCIiKTsgLy9jbG9zZSBzaWdubGUgaW1hZ2UncyBsaWdodGJveAoKICAgIHZhciBoYW5kbGVIaWRlID0gZnVuY3Rpb24gaGFuZGxlSGlkZSgpIHsKICAgICAgbGlnaHRib3hWaXNpYmxlLnZhbHVlID0gZmFsc2U7CiAgICB9OyAvL3Nob3cgc2luZ2xlIGltYWdlJ3MgbGlnaHRib3gKCgogICAgdmFyIHNob3dNdWx0aXBsZSA9IGZ1bmN0aW9uIHNob3dNdWx0aXBsZShyb3csIGkpIHsKICAgICAgbGlnaHRib3hWaXNpYmxlLnZhbHVlID0gdHJ1ZTsKICAgICAgaW1nLnZhbHVlID0gcm93LmFmdGVyc2FsZV9pbWFnZTsKICAgICAgaW5kZXgudmFsdWUgPSBpOwogICAgfTsgLy91cGxvYWQgcGljdHVyZXMsIGFjY2VwdCBwaWN0dXJlIGFycmF5CgoKICAgIHZhciBpbWFnZVVybCA9IHJlZihbXSk7CiAgICB2YXIgdG9rZW4gPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkc3RvcmUuc3RhdGUudG9rZW47CiAgICB9KTsgLy9CZWZvcmUgdXBsb2FkaW5nIHBpY3R1cmVzLCB2ZXJpZnkgdGhlIGZvcm1hdCBhbmQgc2l6ZS4KCiAgICB2YXIgYmVmb3JlQXZhdGFyVXBsb2FkID0gZnVuY3Rpb24gYmVmb3JlQXZhdGFyVXBsb2FkKGZpbGUpIHsKICAgICAgdmFyIHNpZ24gPSB0cnVlOwogICAgICB2YXIgaW1nQWNjZXB0ID0gWyJpbWFnZS9naWYiLCAiaW1hZ2UvanBlZyIsICJpbWFnZS9qcGciLCAiaW1hZ2UvcG5nIl07CiAgICAgIHZhciBpc0x0MU0gPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDE7CgogICAgICBpZiAoaW1nQWNjZXB0LmluZGV4T2YoZmlsZS50eXBlKSA9PSAtMSkgewogICAgICAgICRtZXNzYWdlLmVycm9yKCLkuIrkvKDmlofku7blupTor6XmmK/lm77niYfmoLzlvI/vvIEiKTsKICAgICAgICBzaWduID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmICghaXNMdDFNKSB7CiAgICAgICAgJG1lc3NhZ2UuZXJyb3IoIuWbvueJh+Wkp+Wwj+i2hei/hzFNQuS6huWTpu+8gSIpOwogICAgICAgIHNpZ24gPSBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNpZ247CiAgICB9OyAvL2dldEJhc2U2NCBpcyB1c2VkIHRvIGNvbnZlcnQgYW4gaW1hZ2UgdG8gYmFzZTY0IGVuY29kZWQgc3RyaW5nCiAgICAvLyBjb25zdCBnZXRCYXNlNjQgPSAoZmlsZSkgPT4gewogICAgLy8gICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAvLyAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAvLyAgICAgbGV0IGltZ1Jlc3VsdCA9ICIiOwogICAgLy8gICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgLy8gICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgIC8vICAgICAgIGltZ1Jlc3VsdCA9IHJlYWRlci5yZXN1bHQ7CiAgICAvLyAgICAgfTsKICAgIC8vICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKGVycm9yKSB7CiAgICAvLyAgICAgICByZWplY3QoZXJyb3IpOwogICAgLy8gICAgIH07CiAgICAvLyAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkgewogICAgLy8gICAgICAgcmVzb2x2ZShpbWdSZXN1bHQpOwogICAgLy8gICAgIH07CiAgICAvLyAgIH0pOwogICAgLy8gfTsKICAgIC8vZ2V0IHRoZSBpbWFnZSBieSB0aGUgaW1hZ2UgVVJMLCBhbmQgY29udmVydCBpdCB0byBlbmNvZGVkIHN0cmluZwogICAgLy8gY29uc3QgaGFuZGxlQXZhdGFyU3VjY2VzcyA9IChmaWxlKSA9PiB7CiAgICAvLyAgIGltYWdlVXJsLnZhbHVlID0gW1VSTC5jcmVhdGVPYmplY3RVUkwoZmlsZS5maWxlKV07CiAgICAvLyAgIGdldEJhc2U2NChmaWxlLmZpbGUpLnRoZW4oKHJlcykgPT4gewogICAgLy8gICAgIHJ1bGVGb3JtLmFmdGVyc2FsZV9pbWFnZS5wdXNoKHJlcyk7CiAgICAvLyAgIH0pOwogICAgLy8gfTsKCgogICAgdmFyIGhhbmRsZVJlbW92ZSA9IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZShmaWxlKSB7CiAgICAgIHZhciByZW1vdmVJdGVtSW5kZXggPSBydWxlRm9ybS5hZnRlcnNhbGVfaW1hZ2UuaW5kZXhPZihmaWxlLnJlc3BvbnNlLmtleSk7CiAgICAgIHJ1bGVGb3JtLmFmdGVyc2FsZV9pbWFnZS5zcGxpY2UocmVtb3ZlSXRlbUluZGV4LCAxKTsKICAgIH07CgogICAgdmFyIGhhbmRsZUF2YXRhclN1Y2Nlc3MgPSBmdW5jdGlvbiBoYW5kbGVBdmF0YXJTdWNjZXNzKGZpbGUpIHsKICAgICAgJHN0b3JlLmRpc3BhdGNoKCJnZXRVcFRva2VuIikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcnVsZUZvcm0uYWZ0ZXJzYWxlX2ltYWdlLnB1c2goZmlsZS5rZXkpOwogICAgICAgIGltYWdlVXJsLnZhbHVlLnB1c2goZmlsZS5rZXkpOwogICAgICB9KTsKICAgIH07IC8vaWQgbGlzdCBmb3IgdXNlciBjaG9vc2luZyBhZHRlciBzYWxlIG9yZGVyCgoKICAgIHZhciBvcmRlcklkTGlzdCA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRzdG9yZS5zdGF0ZS5zZWxmb3JkZXJsaXN0LmZpbHRlcihmdW5jdGlvbiAob2JqZWN0KSB7CiAgICAgICAgcmV0dXJuIG9iamVjdC5pc19hZnRlcnNhbGUgPT09IGZhbHNlOwogICAgICB9KS5tYXAoZnVuY3Rpb24gKG9iamVjdCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZDogb2JqZWN0Ll9pZAogICAgICAgIH07CiAgICAgIH0pOwogICAgfSk7IC8vYWRkIGFmYXRlciBzYWxlCgogICAgdmFyIHJ1bGVGb3JtID0gcmVhY3RpdmUoewogICAgICBvcmRlcl9pZDogIiIsCiAgICAgIGFmdGVyc2FsZV90eXBlOiAi5o2f5Z2PIiwKICAgICAgYWZ0ZXJzYWxlX3RpdGxlOiAiIiwKICAgICAgYWZ0ZXJzYWxlX2NvbnRlbnQ6ICIiLAogICAgICBhZnRlcnNhbGVfaW1hZ2U6IFtdCiAgICB9KTsKICAgIHZhciBhZGRBZnRlclNhbGVTaWduID0gcmVmKGZhbHNlKTsKCiAgICB2YXIgYWRkQWZ0ZXJTYWxlID0gZnVuY3Rpb24gYWRkQWZ0ZXJTYWxlKCkgewogICAgICBsb2FkaW5nLnZhbHVlID0gdHJ1ZTsKCiAgICAgIGlmIChydWxlRm9ybS5vcmRlcl9pZCA9PSAiIiB8fCBydWxlRm9ybS5hZnRlcnNhbGVfdHlwZSA9PSAiIiB8fCBydWxlRm9ybS5hZnRlcnNhbGVfdGl0bGUgPT0gIiIgfHwgcnVsZUZvcm0uYWZ0ZXJzYWxlX2NvbnRlbnQgPT0gIiIgfHwgcnVsZUZvcm0uYWZ0ZXJzYWxlX2ltYWdlLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgJG1lc3NhZ2UuZXJyb3IoIuivt+Whq+WGmeWujOaVtOWGheWuuSEiKTsKICAgICAgICBsb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgJHN0b3JlLmRpc3BhdGNoKCJjcmVhdGVBZnRlclNhbGUiLCBydWxlRm9ybSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAkbWVzc2FnZS5zdWNjZXNzKCLnlLPor7fllK7lkI7mnI3liqHmiJDlip/vvIEiKTsKICAgICAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgICAgIHRvUmVsb2FkKCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgbG9hZGluZy52YWx1ZSA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9CiAgICB9OyAvL3VzZXIgb3BlcmF0aW9uIHRvIGNvbmZpcm0gc2VydmljZSByZXNwb25zZQoKCiAgICB2YXIgaGFuZGxlQ29uZmlybVNlcnZpY2UgPSBmdW5jdGlvbiBoYW5kbGVDb25maXJtU2VydmljZShpZCkgewogICAgICAkc3RvcmUuZGlzcGF0Y2goImNvbmZvcm1BZnRlclNhbGUiLCBpZCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgJG1lc3NhZ2Uuc3VjY2Vzcygi5ZCM5oSP5ZSu5ZCO5pa55qGI5o+Q5Lqk5oiQ5Yqf77yBIik7CiAgICAgICAgbG9hZGluZy52YWx1ZSA9IGZhbHNlOwogICAgICAgIHRvUmVsb2FkKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBsb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBsb2FkaW5nLAogICAgICBvcmRlcklkTGlzdDogb3JkZXJJZExpc3QsCiAgICAgIGFmdGVyU2FsZUxpc3Q6IGFmdGVyU2FsZUxpc3QsCiAgICAgIHRhYmxlRGF0YTogdGFibGVEYXRhLAogICAgICBsaWdodGJveFZpc2libGU6IGxpZ2h0Ym94VmlzaWJsZSwKICAgICAgaW1nOiBpbWcsCiAgICAgIGluZGV4OiBpbmRleCwKICAgICAgc2hvd011bHRpcGxlOiBzaG93TXVsdGlwbGUsCiAgICAgIGhhbmRsZUhpZGU6IGhhbmRsZUhpZGUsCiAgICAgIHBhZ2VDaGFuZ2U6IHBhZ2VDaGFuZ2UsCiAgICAgIGFkZEFmdGVyU2FsZVNpZ246IGFkZEFmdGVyU2FsZVNpZ24sCiAgICAgIHJ1bGVGb3JtOiBydWxlRm9ybSwKICAgICAgYWRkQWZ0ZXJTYWxlOiBhZGRBZnRlclNhbGUsCiAgICAgIGhhbmRsZUNvbmZpcm1TZXJ2aWNlOiBoYW5kbGVDb25maXJtU2VydmljZSwKICAgICAgaW1hZ2VVcmw6IGltYWdlVXJsLAogICAgICBiZWZvcmVBdmF0YXJVcGxvYWQ6IGJlZm9yZUF2YXRhclVwbG9hZCwKICAgICAgaGFuZGxlUmVtb3ZlOiBoYW5kbGVSZW1vdmUsCiAgICAgIGhhbmRsZUF2YXRhclN1Y2Nlc3M6IGhhbmRsZUF2YXRhclN1Y2Nlc3MsCiAgICAgIHRva2VuOiB0b2tlbiwKICAgICAgaW1hZ2VEb21haW46IGltYWdlRG9tYWluLAogICAgICBkaWFsb2dWaXNpYmxlOiBkaWFsb2dWaXNpYmxlCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["AfterSaleService.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4RA,SACA,SADA,EAEA,QAFA,EAGA,QAHA,EAIA,GAJA,EAKA,MALA,QAMA,sBANA;AAOA,OAAA,UAAA,MAAA,8BAAA;AACA,SAAA,WAAA,QAAA,cAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GADA;AAKA,EAAA,KALA,iBAKA,KALA,QAKA;AAAA,yBAAA,IAAA;AAAA,QAAA,MAAA,aAAA,MAAA;AAAA,QAAA,QAAA,aAAA,QAAA;AAGA,QAAA,aAAA,GAAA,GAAA,CAAA,KAAA,CAAA;AACA,QAAA,OAAA,GAAA,GAAA,CAAA,KAAA,CAAA,CAJA,CAKA;;AACA,QAAA,QAAA,GAAA,MAAA,CAAA,QAAA,CAAA;AAEA,IAAA,SAAA,CAAA,YAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,kBAAA,EAAA;AACA,QAAA,IAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA,MAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,IAAA,EAAA,CAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,OAAA,EAAA;AAJA,OAAA;AAMA,MAAA,MAAA,CAAA,QAAA,CAAA,YAAA;AACA,KAZA,CAAA,CARA,CAsBA;;AACA,QAAA,aAAA,GAAA,QAAA,CAAA,YAAA;AACA,aAAA,MAAA,CAAA,KAAA,CAAA,aAAA;AACA,KAFA,CAAA;AAGA,QAAA,SAAA,GAAA,QAAA,CAAA,YAAA;AACA,aAAA,aAAA,CAAA,KAAA,CAAA,GAAA,CAAA,UAAA,MAAA,EAAA,KAAA,EAAA;AACA,eAAA;AACA,UAAA,eAAA,EAAA,KAAA,GAAA,CADA;AAEA,UAAA,EAAA,EAAA,MAAA,CAAA,GAFA;AAGA,UAAA,OAAA,EAAA,MAAA,CAAA,QAHA;AAIA,UAAA,cAAA,EAAA,MAAA,CAAA,cAJA;AAKA,UAAA,eAAA,EAAA,MAAA,CAAA,eALA;AAMA,UAAA,iBAAA,EAAA,MAAA,CAAA,iBANA;AAOA,UAAA,eAAA,EAAA,MAAA,CAAA,eAAA,CAAA,GAAA,CAAA,UAAA,MAAA,EAAA;AACA,mBAAA;AAAA,cAAA,GAAA,EAAA,WAAA,GAAA;AAAA,aAAA;AACA,WAFA,CAPA;AAUA,UAAA,YAAA,EAAA,MAAA,CAAA,YAVA;AAWA,UAAA,QAAA,EAAA,MAAA,CAAA,QAXA;AAYA,UAAA,QAAA,EAAA,MAAA,CAAA,QAZA;AAaA,UAAA,SAAA,EAAA,MAAA,CAAA;AAbA,SAAA;AAeA,OAhBA,CAAA;AAiBA,KAlBA,CAAA,CA1BA,CA6CA;;AACA,QAAA,UAAA,GAAA,SAAA,UAAA,CAAA,GAAA,EAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,kBAAA,EAAA;AACA,QAAA,IAAA,EAAA,GAAA,GAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA,KALA,CA9CA,CAoDA;AACA;;;AACA,QAAA,eAAA,GAAA,GAAA,CAAA,KAAA,CAAA;AACA,QAAA,KAAA,GAAA,GAAA,CAAA,CAAA,CAAA;AACA,QAAA,GAAA,GAAA,GAAA,CAAA,EAAA,CAAA,CAxDA,CAyDA;;AACA,QAAA,UAAA,GAAA,SAAA,UAAA,GAAA;AACA,MAAA,eAAA,CAAA,KAAA,GAAA,KAAA;AACA,KAFA,CA1DA,CA6DA;;;AACA,QAAA,YAAA,GAAA,SAAA,YAAA,CAAA,GAAA,EAAA,CAAA,EAAA;AACA,MAAA,eAAA,CAAA,KAAA,GAAA,IAAA;AACA,MAAA,GAAA,CAAA,KAAA,GAAA,GAAA,CAAA,eAAA;AACA,MAAA,KAAA,CAAA,KAAA,GAAA,CAAA;AACA,KAJA,CA9DA,CAmEA;;;AACA,QAAA,QAAA,GAAA,GAAA,CAAA,EAAA,CAAA;AACA,QAAA,KAAA,GAAA,QAAA,CAAA,YAAA;AACA,aAAA,MAAA,CAAA,KAAA,CAAA,KAAA;AACA,KAFA,CAAA,CArEA,CAyEA;;AACA,QAAA,kBAAA,GAAA,SAAA,kBAAA,CAAA,IAAA,EAAA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,UAAA,SAAA,GAAA,CAAA,WAAA,EAAA,YAAA,EAAA,WAAA,EAAA,WAAA,CAAA;AACA,UAAA,MAAA,GAAA,IAAA,CAAA,IAAA,GAAA,IAAA,GAAA,IAAA,GAAA,CAAA;;AACA,UAAA,SAAA,CAAA,OAAA,CAAA,IAAA,CAAA,IAAA,KAAA,CAAA,CAAA,EAAA;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,cAAA;AACA,QAAA,IAAA,GAAA,KAAA;AACA;;AACA,UAAA,CAAA,MAAA,EAAA;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,cAAA;AACA,QAAA,IAAA,GAAA,KAAA;AACA;;AACA,aAAA,IAAA;AACA,KAbA,CA1EA,CAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,QAAA,YAAA,GAAA,SAAA,YAAA,CAAA,IAAA,EAAA;AACA,UAAA,eAAA,GAAA,QAAA,CAAA,eAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA,CAAA,GAAA,CAAA;AACA,MAAA,QAAA,CAAA,eAAA,CAAA,MAAA,CAAA,eAAA,EAAA,CAAA;AACA,KAHA;;AAKA,QAAA,mBAAA,GAAA,SAAA,mBAAA,CAAA,IAAA,EAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,IAAA,CAAA,YAAA;AACA,QAAA,QAAA,CAAA,eAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA;AACA,OAHA;AAIA,KALA,CAxHA,CA+HA;;;AACA,QAAA,WAAA,GAAA,QAAA,CAAA,YAAA;AACA,aAAA,MAAA,CAAA,KAAA,CAAA,aAAA,CACA,MADA,CACA,UAAA,MAAA;AAAA,eAAA,MAAA,CAAA,YAAA,KAAA,KAAA;AAAA,OADA,EAEA,GAFA,CAEA,UAAA,MAAA,EAAA;AACA,eAAA;AACA,UAAA,EAAA,EAAA,MAAA,CAAA;AADA,SAAA;AAGA,OANA,CAAA;AAOA,KARA,CAAA,CAhIA,CA0IA;;AACA,QAAA,QAAA,GAAA,QAAA,CAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,cAAA,EAAA,IAFA;AAGA,MAAA,eAAA,EAAA,EAHA;AAIA,MAAA,iBAAA,EAAA,EAJA;AAKA,MAAA,eAAA,EAAA;AALA,KAAA,CAAA;AAOA,QAAA,gBAAA,GAAA,GAAA,CAAA,KAAA,CAAA;;AACA,QAAA,YAAA,GAAA,SAAA,YAAA,GAAA;AACA,MAAA,OAAA,CAAA,KAAA,GAAA,IAAA;;AACA,UACA,QAAA,CAAA,QAAA,IAAA,EAAA,IACA,QAAA,CAAA,cAAA,IAAA,EADA,IAEA,QAAA,CAAA,eAAA,IAAA,EAFA,IAGA,QAAA,CAAA,iBAAA,IAAA,EAHA,IAIA,QAAA,CAAA,eAAA,CAAA,MAAA,IAAA,CALA,EAMA;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,UAAA;AACA,QAAA,OAAA,CAAA,KAAA,GAAA,KAAA;AACA,OATA,MASA;AACA,QAAA,MAAA,CACA,QADA,CACA,iBADA,EACA,QADA,EAEA,IAFA,CAEA,YAAA;AACA,UAAA,QAAA,CAAA,OAAA,CAAA,WAAA;AACA,UAAA,OAAA,CAAA,KAAA,GAAA,KAAA;AACA,UAAA,QAAA;AACA,SANA,EAOA,KAPA,CAOA,YAAA;AACA,UAAA,OAAA,CAAA,KAAA,GAAA,KAAA;AACA,SATA;AAUA;AACA,KAvBA,CAnJA,CA4KA;;;AACA,QAAA,oBAAA,GAAA,SAAA,oBAAA,CAAA,EAAA,EAAA;AACA,MAAA,MAAA,CACA,QADA,CACA,kBADA,EACA,EADA,EAEA,IAFA,CAEA,YAAA;AACA,QAAA,QAAA,CAAA,OAAA,CAAA,aAAA;AACA,QAAA,OAAA,CAAA,KAAA,GAAA,KAAA;AACA,QAAA,QAAA;AACA,OANA,EAOA,KAPA,CAOA,YAAA;AACA,QAAA,OAAA,CAAA,KAAA,GAAA,KAAA;AACA,OATA;AAUA,KAXA;;AAaA,WAAA;AACA,MAAA,OAAA,EAAA,OADA;AAGA,MAAA,WAAA,EAAA,WAHA;AAIA,MAAA,aAAA,EAAA,aAJA;AAKA,MAAA,SAAA,EAAA,SALA;AAOA,MAAA,eAAA,EAAA,eAPA;AAQA,MAAA,GAAA,EAAA,GARA;AASA,MAAA,KAAA,EAAA,KATA;AAUA,MAAA,YAAA,EAAA,YAVA;AAWA,MAAA,UAAA,EAAA,UAXA;AAaA,MAAA,UAAA,EAAA,UAbA;AAeA,MAAA,gBAAA,EAAA,gBAfA;AAgBA,MAAA,QAAA,EAAA,QAhBA;AAiBA,MAAA,YAAA,EAAA,YAjBA;AAmBA,MAAA,oBAAA,EAAA,oBAnBA;AAqBA,MAAA,QAAA,EAAA,QArBA;AAsBA,MAAA,kBAAA,EAAA,kBAtBA;AAuBA,MAAA,YAAA,EAAA,YAvBA;AAwBA,MAAA,mBAAA,EAAA,mBAxBA;AAyBA,MAAA,KAAA,EAAA,KAzBA;AA0BA,MAAA,WAAA,EAAA,WA1BA;AA4BA,MAAA,aAAA,EAAA;AA5BA,KAAA;AA8BA;AA7NA,CAAA","sourcesContent":["<template>\r\n  <div class=\"ml-4\">\r\n    <div>\r\n      <el-breadcrumb\r\n        separator-class=\"el-icon-arrow-right\"\r\n        class=\"border el-breadcrumb-outer\"\r\n      >\r\n        <el-breadcrumb-item class=\"mt-3 ml-3\">订单详情</el-breadcrumb-item>\r\n        <el-breadcrumb-item class=\"mt-3\"\r\n          ><span style=\"color:#f39c12;\"\r\n            ><i class=\"fas fa-warehouse\" /> 售后服务</span\r\n          >\r\n        </el-breadcrumb-item>\r\n        <el-button\r\n          class=\"mt-2 float-right mr-3\"\r\n          type=\"primary\"\r\n          v-if=\"addAfterSaleSign === false\"\r\n          @click=\"addAfterSaleSign = !addAfterSaleSign\"\r\n        >\r\n          申请售后\r\n          <i class=\"el-icon-service\"></i>\r\n        </el-button>\r\n      </el-breadcrumb>\r\n      <el-collapse-transition>\r\n        <div class=\"mt-5\" v-if=\"addAfterSaleSign === true\" v-loading=\"loading\">\r\n          <el-form\r\n            :model=\"ruleForm\"\r\n            ref=\"ruleForm\"\r\n            label-position=\"left\"\r\n            label-width=\"130px\"\r\n            class=\"demo-ruleForm form\"\r\n          >\r\n            <el-form-item label=\"*售后服务单号:\">\r\n              <el-select v-model=\"ruleForm.order_id\" placeholder=\"请选择单号\">\r\n                <el-option\r\n                  v-for=\"(item, index) in orderIdList\"\r\n                  :key=\"index\"\r\n                  :label=\"item.id\"\r\n                  :value=\"item.id\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"*售后服务类型:\" prop=\"aftersale_type\">\r\n              <el-radio-group v-model=\"ruleForm.aftersale_type\">\r\n                <el-radio label=\"损坏\">损坏</el-radio>\r\n                <el-radio label=\"丢失\">丢失</el-radio>\r\n                <el-radio label=\"其他\">其他</el-radio>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n            <el-form-item label=\"*售后服务标题:\" prop=\"aftersale_title\">\r\n              <el-input v-model=\"ruleForm.aftersale_title\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"*售后服务内容:\" prop=\"aftersale_content\">\r\n              <el-input\r\n                type=\"textarea\"\r\n                :autosize=\"{ minRows: 3 }\"\r\n                v-model=\"ruleForm.aftersale_content\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"*售后服务照片:\">\r\n              <el-upload\r\n                drag\r\n                action=\"https://upload-z2.qiniup.com\"\r\n                :data=\"token\"\r\n                :on-success=\"handleAvatarSuccess\"\r\n                :on-remove=\"handleRemove\"\r\n                :before-upload=\"beforeAvatarUpload\"\r\n                list-type=\"picture\"\r\n              >\r\n                <i class=\"el-icon-upload\"></i>\r\n                <div class=\"el-upload__text\">\r\n                  拖拽照片 或者 <em>点击上传</em>\r\n                </div>\r\n                <div\r\n                  class=\"el-upload__tip text-danger\"\r\n                  style=\"font-size:14px;\"\r\n                  slot=\"tip\"\r\n                >\r\n                  <i class=\"fas fa-exclamation-circle mr-2\"></i\r\n                  >上传照片只支持PNG，GIF，JPEG 和\r\n                  JPG格式，大小不超过1MB。*每次只能上传一张图片\r\n                </div>\r\n              </el-upload>\r\n            </el-form-item>\r\n          </el-form>\r\n          <div style=\"width:100%;margin-bottom:20px;\">\r\n            <div\r\n              style=\"overflow: hidden;position:relative;margin: auto;left:0;top: 0;width:172px;\"\r\n            >\r\n              <el-button type=\"primary\" @click=\"addAfterSale\">\r\n                上传\r\n              </el-button>\r\n              <el-button\r\n                type=\"warning\"\r\n                @click=\"addAfterSaleSign = !addAfterSaleSign\"\r\n              >\r\n                取消\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-collapse-transition>\r\n      <div class=\"mt-5 mb-5\">\r\n        <div>\r\n          <el-table\r\n            :data=\"tableData\"\r\n            style=\"width: 100%\"\r\n            highlight-current-row\r\n            border\r\n            :default-sort=\"{ prop: 'aftersalenumber', order: 'ascending' }\"\r\n          >\r\n            <el-table-column\r\n              prop=\"orderId\"\r\n              label=\"订单号\"\r\n              align=\"center\"\r\n              sortable\r\n            >\r\n              <template slot-scope=\"{ row }\">\r\n                <span>{{ row.orderId.substr(-10) }}</span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"aftersale_type\"\r\n              label=\"售后类型\"\r\n              align=\"center\"\r\n              sortable\r\n            >\r\n              <template slot-scope=\"{ row }\">\r\n                <span class=\"text-danger\" v-if=\"row.aftersale_type === '损坏'\">损坏</span>\r\n                <span class=\"text-danger\" v-if=\"row.aftersale_type === '丢失'\">丢失</span>\r\n                <span class=\"text-danger\" v-if=\"row.aftersale_type === '其他'\">其他</span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"aftersale_title\"\r\n              label=\"售后标题\"\r\n              align=\"center\"\r\n              sortable\r\n            >\r\n              <template slot-scope=\"{ row }\">\r\n                <span>{{ row.aftersale_title }}</span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"aftersale_content\"\r\n              label=\"售后内容\"\r\n              align=\"center\"\r\n              sortable\r\n            >\r\n              <template slot-scope=\"{ row }\">\r\n                <span>{{ row.aftersale_content }}</span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"aftersale_image\"\r\n              label=\"事故图片\"\r\n              align=\"center\"\r\n            >\r\n              <template slot-scope=\"{ row }\">\r\n                <el-carousel\r\n                  v-if=\"row.aftersale_image.length > 1\"\r\n                  height=\"150px\"\r\n                  indicator-position=\"none\"\r\n                >\r\n                  <el-carousel-item\r\n                    v-for=\"(object, index) in row.aftersale_image\"\r\n                    :key=\"index\"\r\n                  >\r\n                    <img\r\n                      :src=\"object.src\"\r\n                      class=\"img-fluid pointer\"\r\n                      @click=\"showMultiple(row, index)\"\r\n                    />\r\n                  </el-carousel-item>\r\n                </el-carousel>\r\n                <el-image\r\n                  v-else\r\n                  class=\"img-fluid\"\r\n                  style=\"height:150px\"\r\n                  :src=\"row.aftersale_image[0].src\"\r\n                  :preview-src-list=\"[row.aftersale_image[0].src]\"\r\n                  fit=\"cover\"\r\n                ></el-image>\r\n\r\n                <vue-easy-lightbox\r\n                  :visible=\"lightboxVisible\"\r\n                  :imgs=\"img\"\r\n                  :index=\"index\"\r\n                  @hide=\"handleHide\"\r\n                ></vue-easy-lightbox>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"updatedAt\"\r\n              label=\"更新时间\"\r\n              align=\"center\"\r\n              sortabl\r\n            >\r\n              <template slot-scope=\"{ row }\">\r\n                {{\r\n                  row.updatedAt\r\n                    | moment(\"timezone\", \"Asia/Shanghai\", \"YYYY-MM-DD HH:mm:ss\")\r\n                }}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"compensation\"\r\n              label=\"解决方法及赔偿\"\r\n              fixed=\"right\"\r\n              align=\"center\"\r\n              width=\"260\"\r\n              sortable\r\n            >\r\n              <template slot-scope=\"{ row }\">\r\n                <div v-if=\"!row.solution\">\r\n                  <span class=\"text-warning\">正在尽力解决中</span>\r\n                  <p\r\n                    class=\"mt-2\"\r\n                    style=\"cursor:pointer\"\r\n                    @click=\"dialogVisible = true\"\r\n                  >\r\n                    <span><b>请点击添加客服微信 : </b> MUAMUAYVETTE<i class=\"fas fa-search ml-1\"></i></span>\r\n                  </p>\r\n                </div>\r\n                <div v-else>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-4 float-left\">\r\n                      <el-tag type=\"success\"> 解决方法:</el-tag>\r\n                    </div>\r\n                    <div class=\"col-7\">\r\n                      <span class=\"float-left\">{{ row.solution }}</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row mt-2\">\r\n                    <div class=\"col-4 float-left\">\r\n                      <el-tag type=\"warning\"> 赔偿金额:</el-tag>\r\n                    </div>\r\n                    <div class=\"col-7\">\r\n                      <span class=\"float-left\">{{ row.compensation }}</span>\r\n                    </div>\r\n                  </div>\r\n                   <p\r\n                    class=\"mt-2\"\r\n                    style=\"cursor:pointer\"\r\n                    @click=\"dialogVisible = true\"\r\n                  >\r\n                    <span><b>如果不满意售后服务，可点击添加客服微信: </b> MUAMUAYVETTE<i class=\"fas fa-search ml-1\"></i></span>\r\n                  </p>\r\n                  <div v-if=\"!row.is_solve\" class=\"mt-3\">\r\n                    <el-button\r\n                      type=\"primary\"\r\n                      @click=\"handleConfirmService(row.id)\"\r\n                      >同意</el-button\r\n                    >\r\n                  </div>\r\n                  <div v-else class=\"mt-3 text-success\">\r\n                    售后服务已解决 <i class=\"el-icon-circle-check\"></i>\r\n                  </div>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <pagination\r\n            :data=\"tableData\"\r\n            class=\"mt-5 float-right\"\r\n            @pagechange=\"pageChange\"\r\n            pager=\"prev, pager, next, jumper, ->, total, slot\"\r\n            limitNumber=\"5\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <el-dialog\r\n        title=\"扫描添加客服微信\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"400px\"\r\n      >\r\n        <img class=\"mx-auto d-block\" src=\"/images/weixinCode.png\" />\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  onMounted,\r\n  computed,\r\n  reactive,\r\n  ref,\r\n  inject,\r\n} from \"@vue/composition-api\";\r\nimport pagination from \"../components/InfoPagination\";\r\nimport { imageDomain } from \"@/MainAPI.js\";\r\nexport default {\r\n  components: {\r\n    pagination,\r\n  },\r\n\r\n  setup(props, { root: { $store, $message } }) {\r\n\r\n    \r\n    const dialogVisible = ref(false);\r\n    const loading = ref(false);\r\n    //inject reload() to refresh component\r\n    const toReload = inject(\"reload\");\r\n\r\n    onMounted(() => {\r\n      $store.dispatch(\"getUserAfterSale\", {\r\n        page: 0,\r\n        size: 5,\r\n      });\r\n      $store.dispatch(\"getOrderForm\", {\r\n        status: \"已签收\",\r\n        page: 0,\r\n        size: 10,\r\n        status1: \"已发货\",\r\n      });\r\n      $store.dispatch(\"getUpToken\");\r\n    });\r\n\r\n    //tableData for diaplay\r\n    const afterSaleList = computed(() => {\r\n      return $store.state.aftersalelist;\r\n    });\r\n    const tableData = computed(() => {\r\n      return afterSaleList.value.map((object, index) => {\r\n        return {\r\n          aftersalenumber: index + 1,\r\n          id: object._id,\r\n          orderId: object.order_id,\r\n          aftersale_type: object.aftersale_type,\r\n          aftersale_title: object.aftersale_title,\r\n          aftersale_content: object.aftersale_content,\r\n          aftersale_image: object.aftersale_image.map((object) => {\r\n            return { src: imageDomain + object };\r\n          }),\r\n          compensation: object.compensation,\r\n          solution: object.solution,\r\n          is_solve: object.is_solve,\r\n          updatedAt: object.updatedAt,\r\n        };\r\n      });\r\n    });\r\n    //page change\r\n    const pageChange = (val) => {\r\n      $store.dispatch(\"getUserAfterSale\", {\r\n        page: val - 1,\r\n        size: 5,\r\n      });\r\n    };\r\n    //picture\r\n    //picture display\r\n    const lightboxVisible = ref(false);\r\n    const index = ref(0);\r\n    const img = ref(\"\");\r\n    //close signle image's lightbox\r\n    const handleHide = () => {\r\n      lightboxVisible.value = false;\r\n    };\r\n    //show single image's lightbox\r\n    const showMultiple = (row, i) => {\r\n      lightboxVisible.value = true;\r\n      img.value = row.aftersale_image;\r\n      index.value = i;\r\n    };\r\n    //upload pictures, accept picture array\r\n    const imageUrl = ref([]);\r\n    const token = computed(() => {\r\n      return $store.state.token;\r\n    });\r\n\r\n    //Before uploading pictures, verify the format and size.\r\n    const beforeAvatarUpload = (file) => {\r\n      let sign = true;\r\n      const imgAccept = [\"image/gif\", \"image/jpeg\", \"image/jpg\", \"image/png\"];\r\n      const isLt1M = file.size / 1024 / 1024 < 1;\r\n      if (imgAccept.indexOf(file.type) == -1) {\r\n        $message.error(\"上传文件应该是图片格式！\");\r\n        sign = false;\r\n      }\r\n      if (!isLt1M) {\r\n        $message.error(\"图片大小超过1MB了哦！\");\r\n        sign = false;\r\n      }\r\n      return sign;\r\n    };\r\n\r\n    //getBase64 is used to convert an image to base64 encoded string\r\n    // const getBase64 = (file) => {\r\n    //   return new Promise(function(resolve, reject) {\r\n    //     let reader = new FileReader();\r\n    //     let imgResult = \"\";\r\n    //     reader.readAsDataURL(file);\r\n    //     reader.onload = function() {\r\n    //       imgResult = reader.result;\r\n    //     };\r\n    //     reader.onerror = function(error) {\r\n    //       reject(error);\r\n    //     };\r\n    //     reader.onloadend = function() {\r\n    //       resolve(imgResult);\r\n    //     };\r\n    //   });\r\n    // };\r\n\r\n    //get the image by the image URL, and convert it to encoded string\r\n    // const handleAvatarSuccess = (file) => {\r\n    //   imageUrl.value = [URL.createObjectURL(file.file)];\r\n    //   getBase64(file.file).then((res) => {\r\n    //     ruleForm.aftersale_image.push(res);\r\n    //   });\r\n    // };\r\n\r\n    const handleRemove = (file) => {\r\n      let removeItemIndex = ruleForm.aftersale_image.indexOf(file.response.key);\r\n      ruleForm.aftersale_image.splice(removeItemIndex, 1);\r\n    };\r\n\r\n    const handleAvatarSuccess = (file) => {\r\n      $store.dispatch(\"getUpToken\").then(() => {\r\n        ruleForm.aftersale_image.push(file.key);\r\n        imageUrl.value.push(file.key);\r\n      });\r\n    };\r\n\r\n    //id list for user choosing adter sale order\r\n    const orderIdList = computed(() => {\r\n      return $store.state.selforderlist\r\n        .filter((object) => object.is_aftersale === false)\r\n        .map((object) => {\r\n          return {\r\n            id: object._id,\r\n          };\r\n        });\r\n    });\r\n\r\n    //add afater sale\r\n    const ruleForm = reactive({\r\n      order_id: \"\",\r\n      aftersale_type: \"损坏\",\r\n      aftersale_title: \"\",\r\n      aftersale_content: \"\",\r\n      aftersale_image: [],\r\n    });\r\n    const addAfterSaleSign = ref(false);\r\n    const addAfterSale = () => {\r\n      loading.value = true;\r\n      if (\r\n        ruleForm.order_id == \"\" ||\r\n        ruleForm.aftersale_type == \"\" ||\r\n        ruleForm.aftersale_title == \"\" ||\r\n        ruleForm.aftersale_content == \"\" ||\r\n        ruleForm.aftersale_image.length == 0\r\n      ) {\r\n        $message.error(\"请填写完整内容!\");\r\n        loading.value = false;\r\n      } else {\r\n        $store\r\n          .dispatch(\"createAfterSale\", ruleForm)\r\n          .then(() => {\r\n            $message.success(\"申请售后服务成功！\");\r\n            loading.value = false;\r\n            toReload();\r\n          })\r\n          .catch(() => {\r\n            loading.value = false;\r\n          });\r\n      }\r\n    };\r\n\r\n    //user operation to confirm service response\r\n    const handleConfirmService = (id) => {\r\n      $store\r\n        .dispatch(\"conformAfterSale\", id)\r\n        .then(() => {\r\n          $message.success(\"同意售后方案提交成功！\");\r\n          loading.value = false;\r\n          toReload();\r\n        })\r\n        .catch(() => {\r\n          loading.value = false;\r\n        });\r\n    };\r\n\r\n    return {\r\n      loading,\r\n\r\n      orderIdList,\r\n      afterSaleList,\r\n      tableData,\r\n\r\n      lightboxVisible,\r\n      img,\r\n      index,\r\n      showMultiple,\r\n      handleHide,\r\n\r\n      pageChange,\r\n\r\n      addAfterSaleSign,\r\n      ruleForm,\r\n      addAfterSale,\r\n\r\n      handleConfirmService,\r\n\r\n      imageUrl,\r\n      beforeAvatarUpload,\r\n      handleRemove,\r\n      handleAvatarSuccess,\r\n      token,\r\n      imageDomain,\r\n\r\n      dialogVisible,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.el-breadcrumb-outer {\r\n  height: 48px;\r\n  font-size: 15px;\r\n  background-color: #f0f3f4;\r\n  border-radius: 3px;\r\n}\r\n\r\n.el-upload__input {\r\n  display: none !important;\r\n}\r\n.el-upload {\r\n  width: 100% !important;\r\n}\r\n.el-upload-dragger {\r\n  width: 100% !important;\r\n}\r\n\r\n.form {\r\n  overflow: hidden;\r\n  position: relative;\r\n  width: 60%;\r\n  margin: auto;\r\n  left: 0;\r\n  top: 0;\r\n  min-width: 400px;\r\n}\r\n.input-width {\r\n  width: calc(100%-100px);\r\n}\r\n.pointer {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/admin/user"}]}