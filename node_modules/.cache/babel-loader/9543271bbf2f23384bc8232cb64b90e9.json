{"remainingRequest":"E:\\黎超超\\express\\express\\node_modules\\babel-loader\\lib\\index.js!E:\\黎超超\\express\\express\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\黎超超\\express\\express\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\黎超超\\express\\express\\src\\views\\admin\\components\\Announcement.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\黎超超\\express\\express\\src\\views\\admin\\components\\Announcement.vue","mtime":1603936683979},{"path":"E:\\黎超超\\express\\express\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\express\\express\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\黎超超\\express\\express\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\黎超超\\express\\express\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1hbGxraSBmcm9tICJAL2NvbXBvbmVudHMvVGV4dEVmZmVjdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBNYWxsa2k6IE1hbGxraQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRFbWFpbFRlbXBsYXRlIiwgewogICAgICBwYWdlOiAwLAogICAgICBzaXplOiA1MAogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgYWxsRW1haWxUZW1wbGF0ZTogZnVuY3Rpb24gYWxsRW1haWxUZW1wbGF0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFsbEVtYWlsVGVtcGxhdGUgLy8gLmZpbHRlcigoaSkgPT4gKGkudHlwZSA9PT0gIumCruS7tiIgfHwgaS50eXBlID09PSAi5YWs5ZGKIikpCiAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaS50eXBlID09PSAi5YWs5ZGKIjsKICAgICAgfSkuc29ydCh0aGlzLmNvbXBhcmUoImltcG9ydGFuY2UiKSkucmV2ZXJzZSgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb3BlbkFubm91bmNlbWVudDogZnVuY3Rpb24gb3BlbkFubm91bmNlbWVudChpZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldEFFbWFpbFRlbXBsYXRlIiwgaWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2Rhc2hib2FyZC9hbm5vdW5jZW1lbnQvIi5jb25jYXQoaWQpKTsKICAgICAgfSk7CiAgICB9LAogICAgY29tcGFyZTogZnVuY3Rpb24gY29tcGFyZShwcm9wZXJ0eSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICB2YXIgdmFsdWUxID0gYVtwcm9wZXJ0eV07CiAgICAgICAgdmFyIHZhbHVlMiA9IGJbcHJvcGVydHldOwogICAgICAgIHJldHVybiB2YWx1ZTEgLSB2YWx1ZTI7CiAgICAgIH07CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Announcement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAA,MAAA,MAAA,yBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,MAAA,EAAA;AAAA,GADA;AAEA,EAAA,OAFA,qBAEA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,kBAAA,EAAA;AAAA,MAAA,IAAA,EAAA,CAAA;AAAA,MAAA,IAAA,EAAA;AAAA,KAAA;AACA,GAJA;AAKA,EAAA,QAAA,EAAA;AACA,IAAA,gBAAA,EAAA,4BAAA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,gBAAA,CACA;AADA,OAEA,MAFA,CAEA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,IAAA,KAAA,IAAA;AAAA,OAFA,EAGA,IAHA,CAGA,KAAA,OAAA,CAAA,YAAA,CAHA,EAIA,OAJA,EAAA;AAKA;AAPA,GALA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,4BACA,EADA,EACA;AAAA;;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,mBAAA,EAAA,EAAA,EAAA,IAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,mCAAA,EAAA;AACA,OAFA;AAGA,KALA;AAMA,IAAA,OANA,mBAMA,QANA,EAMA;AACA,aAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,YAAA,MAAA,GAAA,CAAA,CAAA,QAAA,CAAA;AACA,YAAA,MAAA,GAAA,CAAA,CAAA,QAAA,CAAA;AACA,eAAA,MAAA,GAAA,MAAA;AACA,OAJA;AAKA;AAZA;AAdA,CAAA","sourcesContent":["<template>\r\n  <el-card class=\"box-card-component\" style=\"margin-left:8px;\" >\r\n    <mallki\r\n      class=\"mb-3\"\r\n      class-name=\"mallki-text\"\r\n      text=\"网站公告/Announcement\"\r\n    />\r\n    <div class=\"c\">\r\n      <ul class=\"card-home\">\r\n        <li\r\n        v-for=\"(item, index) in allEmailTemplate\"\r\n        :key=\"index\"\r\n        @click=\"openAnnouncement(item._id)\"\r\n        class=\"mt-1 ml-1 mr-1\"\r\n      >\r\n        <p>\r\n          <span v-if=\"item.type==='公告'\" class=\"mr-2\">[公告] </span>\r\n          <span v-if=\"item.type==='邮件'\" class=\"mr-2\">[邮件] </span>\r\n          <span\r\n            :class=\"{\r\n              importance: item.importance == '3',\r\n              lessimportance: item.importance == '2',\r\n            }\"\r\n            >{{ item.title }}\r\n          </span>\r\n          <span class=\"float-right mr-3\">\r\n            {{ item.updatedAt | moment(\"timezone\", \"Asia/Shanghai\", \"from\", \"now\")}}\r\n          </span>\r\n        </p>\r\n      </li>\r\n      </ul>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport Mallki from \"@/components/TextEffect\";\r\n\r\nexport default {\r\n  components: { Mallki },\r\n  created() {\r\n    this.$store.dispatch(\"getEmailTemplate\", { page: 0, size: 50 });\r\n  },\r\n  computed: {\r\n    allEmailTemplate: function() {\r\n      return this.$store.state.allEmailTemplate\r\n        // .filter((i) => (i.type === \"邮件\" || i.type === \"公告\"))\r\n        .filter((i) => i.type === \"公告\")\r\n        .sort(this.compare(\"importance\"))\r\n        .reverse();\r\n    },\r\n  },\r\n  methods: {\r\n    openAnnouncement(id) {\r\n      this.$store.dispatch(\"getAEmailTemplate\", id).then(() => {\r\n        this.$router.push(`/dashboard/announcement/${id}`);\r\n      });\r\n    },\r\n    compare(property) {\r\n      return function(a, b) {\r\n        var value1 = a[property];\r\n        var value2 = b[property];\r\n        return value1 - value2;\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.c{\r\n  position:relative;\r\n  float:left;\r\n  width:100%;\r\n  height:445px;\r\n  overflow:hidden;\r\n  overflow-y:auto;\r\n}\r\n.card-home{\r\n  position:absolute;\r\n\ttop:0;\r\n  //animation: scroll 10s linear 1s infinite;\r\n}\r\n@keyframes scroll {\r\n\t100% { top: -360px; }  /* top is the number of spans (in this case 8) multiplied by span height (45px as described above)*/\r\n}\r\n.importance {\r\n  color: red;\r\n}\r\n.lessimportance {\r\n  color: orange;\r\n}\r\n.box-card-component {\r\n  .mallki-text {\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n  }\r\n\r\n  ul {\r\n    width:100%;\r\n    font-size: 16px;\r\n    border-top: 1px solid #dfe6ec;\r\n    padding-left: 0;\r\n    li {\r\n      height:50px;\r\n      list-style-type: none;\r\n      &:first-child {\r\n        border: none;\r\n      }\r\n      border-top: 1px solid #dfe6ec;\r\n      padding: 8px 0;\r\n      p {\r\n        padding-top:5px;\r\n        margin-bottom: 5px;\r\n      }\r\n      &:hover {\r\n        cursor: pointer;\r\n        background-color: rgb(241, 234, 234);\r\n        transform: scale(1.01, 1.01);\r\n      }\r\n      font-weight: bold;\r\n      span {\r\n        &:first-child {\r\n          color: red;\r\n          font-weight: bold;\r\n        }\r\n        &:last-child {\r\n          font-weight: 400;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/admin/components"}]}